(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-01349829"],{"07b1":function(e,r,t){},"09ba":function(e,r,t){"use strict";var a=t("be3b"),o=t("2ce5"),s={mixins:[o["a"]],computed:{barber:function(){return this.$store.getters["BarberStore/barber"]||{id:null,barbershop_id:null,uuid:null,name:null,email:null,cpf:null,code:null,enabled:null,plan_id:null,plan_old_id:null,plan_due_date:null,plan_old_due_date:null,profile:null,phone:null,image_url:null,instagram_url:null,facebook_url:null,create_at:null,updated_at:null,deleted_at:null}}},methods:{getBarber:function(){return this.$store.getters["BarberStore/barber"]},getBarberByBarbershopIdOnService:function(e){var r=this;a["a"].get("/barbershop/".concat(e,"/barber")).then((function(e){200===e.data.codigo?r.onGetBarberByBarbershopIdOnServiceSuccess(e.data.corpo):r.onGetBarberByBarbershopIdOnServiceError(e.data.corpo)})).catch((function(e){r.onGetBarberByBarbershopIdOnServiceError("Não foi possível recuperar os dados da barbearia!"),window.console.log(e)}))},onGetBarberByBarbershopIdOnServiceError:function(e){window.console.log(e)},onGetBarberByBarbershopIdOnServiceSuccess:function(e){window.console.log(JSON.stringify(e))},getToken:function(){return this.$store.getters["BarberStore/payloadToken"]},isAutenticated:function(){return this.$store.getters["BarberStore/tokenValido"]},logout:function(){this.$store.dispatch("BarberStore/logout"),this.$store.dispatch("BarbershopStore/logout"),localStorage.routePathAdmin="",this.goTo("login-barber")},storeBarber:function(e){this.$store.dispatch("UserStore/logout"),this.$store.dispatch("BarberStore/autenticar",e)}}};r["a"]=s},"1c97":function(e,r,t){"use strict";var a=t("07b1"),o=t.n(a);o.a},"96c1":function(e,r,t){"use strict";t.r(r);var a=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("register-app",{attrs:{alertInfo:e.alertInfo,isBarber:!0,token:e.token,progressLoader:e.loading},on:{register:e.register,registerWithGoogle:e.registerWithGoogle}})},o=[],s=(t("ac1f"),t("5319"),t("be3b")),n=t("f102"),i=t("09ba"),l=t("5988"),c=t("2ce5"),d={name:"Register",components:{RegisterApp:n["a"]},mixins:[i["a"],l["a"],c["a"]],data:function(){return{alertInfo:null,loading:!1,token:null}},mounted:function(){this.token=this.$route.query.token?this.$route.query.token.replace(/ /g,"+"):null},methods:{register:function(e){var r=this;e.token=this.token,this.loading=!0,s["a"].post("/auth/barber/register",e).then((function(e){r.loading=!1,200===e.data.codigo?r.alertInfo="Obrigado por ter se cadastrado!<br>Verifique sua caixa de e-mail e confirme o seu cadastro.":r.showSnackbarErro(e.data.corpo)})).catch((function(){r.loading=!1,r.showSnackbarErro("Não foi possível realizar seu cadastro!")}))},registerWithGoogle:function(e){var r=this;s["a"].post("/auth/barber/register-google",e).then((function(e){200===e.data.codigo?(r.showSnackbar("Cadastro realizado com sucesso!"),r.setBarber(e.data.corpo)):r.showSnackbarErro(e.data.corpo)})).catch((function(e){r.showSnackbarErro("Não foi possível realizar seu cadastro!"),window.console.error(e)}))},setBarber:function(e){this.storeBarber(e),this.goTo("admin")}}},u=d,m=t("2877"),f=Object(m["a"])(u,a,o,!1,null,null,null);r["default"]=f.exports},f102:function(e,r,t){"use strict";var a=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("auth-template",{attrs:{title:"Faça seu cadastro",isBarber:e.isBarber}},[e.alertInfo?[t("alert",{attrs:{icon:"done"}},[e._v(" Obrigado por ter se cadastrado! "),t("br"),e._v(" Verifique sua caixa de e-mail e confirme seu cadastro. ")]),t("btn-secondary",{staticClass:"mt-12",attrs:{text:"Voltar para o site",dark:""},on:{clicked:e.voltar}})]:[t("form",{on:{submit:function(r){return r.preventDefault(),e.cadastrar(r)}}},[t("div",{staticClass:"text-center mt-4"},[t("btn-primary",{staticClass:"btn-cadastrar",attrs:{text:"Cadastre-se com email"},on:{clicked:e.openFormDialog}})],1),t("div",{staticClass:"text-center"},[t("gbutton",{staticClass:"mt-6 mx-auto d-flex justify-center",attrs:{params:e.params,renderParams:e.renderParams,onSuccess:e.registerWithGoogle}},[e._v(" Cadastrar-se com o Google ")])],1),t("btn-secondary",{staticClass:"mt-12",attrs:{text:"Voltar",dark:""},on:{clicked:e.voltar}})],1),t("v-dialog",{attrs:{transition:"dialog-bottom-transition",width:"350",persistent:""},model:{value:e.formDialog,callback:function(r){e.formDialog=r},expression:"formDialog"}},[t("v-card",{staticClass:"modal-content pa-4",attrs:{dark:""}},[t("div",{staticClass:"text-right"},[t("v-btn",{attrs:{icon:"",dark:""},on:{click:function(r){e.formDialog=!1}}},[t("v-icon",[e._v("mdi-close")])],1)],1),t("div",[t("div",{staticClass:"text-center"},[t("img",{staticClass:"logo",attrs:{src:"/logo.png"}})]),t("div",{staticClass:"form-group"},[t("v-text-field",{attrs:{id:"name",label:"Nome",rules:e.nameRules,success:e.isNameValid(e.name),dark:"",autocomplete:"off",clearable:"",required:"","validate-on-blur":""},on:{keyup:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.focusToNext("email")}},scopedSlots:e._u([{key:"prepend-inner",fn:function(){return[t("v-icon",{staticClass:"material-icons-outlined mr-2",attrs:{dense:""}},[e._v("person")])]},proxy:!0}]),model:{value:e.name,callback:function(r){e.name=r},expression:"name"}})],1),t("div",{staticClass:"form-group"},[t("v-text-field",{ref:"email",attrs:{id:"email",label:"E-mail",autocomplete:"off",disabled:e.emailDisabled,rules:e.emailRules,success:e.isNameValid(e.email),dark:"","prepend-inner-icon":"mail",clearable:"",required:"","validate-on-blur":""},on:{keyup:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.focusToNext("password")}},scopedSlots:e._u([{key:"prepend-inner",fn:function(){return[t("v-icon",{staticClass:"material-icons-outlined mr-2",attrs:{dense:""}},[e._v("mail")])]},proxy:!0}]),model:{value:e.email,callback:function(r){e.email=r},expression:"email"}})],1),t("div",{staticClass:"form-group"},[t("v-text-field",{ref:"password",attrs:{type:e.showPassword?"text":"password",rules:e.passwordRules,success:e.isNameValid(e.password),dark:"",label:"Senha","append-icon":e.showPassword?"visibility_off":"remove_red_eye",clearable:"",required:"","validate-on-blur":""},on:{"click:append":function(r){e.showPassword=!e.showPassword},keyup:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.focusToNext("confirmPassword")}},scopedSlots:e._u([{key:"prepend-inner",fn:function(){return[t("v-icon",{staticClass:"material-icons-outlined mr-2",attrs:{dense:""}},[e._v("vpn_key")])]},proxy:!0}]),model:{value:e.password,callback:function(r){e.password=r},expression:"password"}})],1),t("div",{staticClass:"form-group"},[t("v-text-field",{ref:"confirmPassword",attrs:{type:e.showConfirmPassword?"text":"password",rules:e.passwordRules,success:e.isNameValid(e.confirmPassword),dark:"",label:"Confirmar Senha","append-icon":e.showConfirmPassword?"visibility_off":"remove_red_eye",clearable:"",required:"","validate-on-blur":""},on:{"click:append":function(r){e.showConfirmPassword=!e.showConfirmPassword},keyup:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.enterClick(r)}},scopedSlots:e._u([{key:"prepend-inner",fn:function(){return[t("v-icon",{staticClass:"material-icons-outlined mr-2",attrs:{dense:""}},[e._v("vpn_key")])]},proxy:!0}]),model:{value:e.confirmPassword,callback:function(r){e.confirmPassword=r},expression:"confirmPassword"}})],1),t("div",{staticClass:"text-center mt-6"},[t("btn-primary",{staticClass:"btnRegister",attrs:{text:"CADASTRAR",loading:e.progressLoader},on:{clicked:e.register}})],1)])])],1)]],2)},o=[],s=(t("a15b"),t("d81d"),t("fb6a"),t("0d03"),t("b0c0"),t("d3b7"),t("ac1f"),t("25f0"),t("5319"),t("1276"),t("8ec8")),n=t("e571"),i=t.n(n),l=t("94bb"),c=t("a30b"),d=t("5cbb"),u=t("2c3c"),m=t("2ce5"),f=t("5988"),p=t("be1f"),b={name:"Register",components:{Alert:s["a"],AuthTemplate:l["a"],BtnPrimary:c["a"],BtnSecondary:d["a"],gbutton:i.a},mixins:[u["a"],m["a"],f["a"],p["a"]],props:{alertInfo:{default:!0},isBarber:{default:!1},progressLoader:{default:!1},token:{default:""}},data:function(){return{formDialog:!1,showPassword:!1,showConfirmPassword:!1,name:"",email:"",password:"",confirmPassword:"",params:{client_id:"69364991955-nfb8lar5v22bfikoba0imp8vjmscr23h.apps.googleusercontent.com"},renderParams:{height:45,width:250,theme:"dark"}}},watch:{token:function(e){if(e){var r=this.parseJwt(e);this.email=r.usuario.barber_mail}}},computed:{emailDisabled:function(){return!!this.token}},methods:{enterClick:function(){this.register()},isFormValid:function(){return!!this.isNameValid(this.name)&&(!!this.isEmailValid(this.email)&&(!!this.isPasswordValid(this.password)&&(!!this.isPasswordValid(this.confirmPassword)&&this.confirmPassword===this.password)))},register:function(){if(this.isFormValid()){var e={name:this.name,email:this.email,password:this.password};this.$emit("register",e)}else this.showSnackbarErro("Preencha todos os campos corretamente!")},openFormDialog:function(){this.formDialog=!0,setTimeout((function(){document.querySelector("#name").focus()}),500)},registerWithGoogle:function(e){var r=e.getBasicProfile(),t={google_id:r.getId(),name:r.getName(),email:r.getEmail()};this.$emit("registerWithGoogle",t)},parseJwt:function(e){var r=e.split(".")[1],t=r.replace(/-/g,"+").replace(/_/g,"/"),a=decodeURIComponent(atob(t).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""));return JSON.parse(a)},voltar:function(){this.isBarber?this.goTo("login-barber"):this.goTo("login")}}},h=b,g=(t("1c97"),t("2877")),k=t("6544"),v=t.n(k),w=t("8336"),y=t("b0af"),_=t("169a"),x=t("132d"),B=t("8654"),C=Object(g["a"])(h,a,o,!1,null,"0d20568d",null);r["a"]=C.exports;v()(C,{VBtn:w["a"],VCard:y["a"],VDialog:_["a"],VIcon:x["a"],VTextField:B["a"]})}}]);
//# sourceMappingURL=chunk-01349829.4d93b0f6.js.map