(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8e844080"],{"0789":function(e,t,r){"use strict";r("99af");var n=r("d9f7");function o(){for(var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return(e=Array()).concat.apply(e,[t].concat(n))}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top center 0",r=arguments.length>2?arguments[2]:void 0;return{name:e,functional:!0,props:{group:{type:Boolean,default:!1},hideOnLeave:{type:Boolean,default:!1},leaveAbsolute:{type:Boolean,default:!1},mode:{type:String,default:r},origin:{type:String,default:t}},render:function(t,r){var a="transition".concat(r.props.group?"-group":""),i={props:{name:e,mode:r.props.mode},on:{beforeEnter:function(e){e.style.transformOrigin=r.props.origin,e.style.webkitTransformOrigin=r.props.origin}}};return r.props.leaveAbsolute&&(i.on.leave=o(i.on.leave,(function(e){return e.style.position="absolute"}))),r.props.hideOnLeave&&(i.on.leave=o(i.on.leave,(function(e){return e.style.display="none"}))),t(a,Object(n["a"])(r.data,i),r.children)}}}function i(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"in-out";return{name:e,functional:!0,props:{mode:{type:String,default:r}},render:function(r,o){return r("transition",Object(n["a"])(o.data,{props:{name:e},on:t}),o.children)}}}var s=r("2fa7"),l=r("80d2"),c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t?"width":"height",n="offset".concat(Object(l["w"])(r));return{beforeEnter:function(e){e._parent=e.parentNode,e._initialStyle=Object(s["a"])({transition:e.style.transition,visibility:e.style.visibility,overflow:e.style.overflow},r,e.style[r])},enter:function(t){var o=t._initialStyle,a="".concat(t[n],"px");t.style.setProperty("transition","none","important"),t.style.visibility="hidden",t.style.visibility=o.visibility,t.style.overflow="hidden",t.style[r]="0",t.offsetHeight,t.style.transition=o.transition,e&&t._parent&&t._parent.classList.add(e),requestAnimationFrame((function(){t.style[r]=a}))},afterEnter:a,enterCancelled:a,leave:function(e){e._initialStyle=Object(s["a"])({transition:"",visibility:"",overflow:e.style.overflow},r,e.style[r]),e.style.overflow="hidden",e.style[r]="".concat(e[n],"px"),e.offsetHeight,requestAnimationFrame((function(){return e.style[r]="0"}))},afterLeave:o,leaveCancelled:o};function o(t){e&&t._parent&&t._parent.classList.remove(e),a(t)}function a(e){var t=e._initialStyle[r];e.style.overflow=e._initialStyle.overflow,null!=t&&(e.style[r]=t),delete e._initialStyle}};r.d(t,"f",(function(){return u})),r.d(t,"e",(function(){return d})),r.d(t,"c",(function(){return f})),r.d(t,"d",(function(){return p})),r.d(t,"a",(function(){return h})),r.d(t,"b",(function(){return b}));a("carousel-transition"),a("carousel-reverse-transition");var u=a("tab-transition"),d=a("tab-reverse-transition"),f=(a("menu-transition"),a("fab-transition","center center","out-in"),a("dialog-transition"),a("dialog-bottom-transition"),a("fade-transition")),p=(a("scale-transition"),a("scroll-x-transition"),a("scroll-x-reverse-transition"),a("scroll-y-transition"),a("scroll-y-reverse-transition"),a("slide-x-transition")),h=(a("slide-x-reverse-transition"),a("slide-y-transition"),a("slide-y-reverse-transition"),i("expand-transition",c())),b=i("expand-x-transition",c("",!0))},"09ba":function(e,t,r){"use strict";var n=r("be3b"),o=r("2ce5"),a={mixins:[o["a"]],computed:{barber:function(){return this.$store.getters["BarberStore/barber"]}},methods:{getBarber:function(){return this.$store.getters["BarberStore/barber"]},getBarberByBarbershopIdOnService:function(e){var t=this;n["a"].get("/barbershop/".concat(e,"/barber")).then((function(e){200===e.data.codigo?t.onGetBarberByBarbershopIdOnServiceSuccess(e.data.corpo):t.onGetBarberByBarbershopIdOnServiceError(e.data.corpo)})).catch((function(e){t.onGetBarberByBarbershopIdOnServiceError("Não foi possível recuperar os dados da barbearia!"),window.console.log(e)}))},onGetBarberByBarbershopIdOnServiceError:function(e){window.console.log(e)},onGetBarberByBarbershopIdOnServiceSuccess:function(e){window.console.log(JSON.stringify(e))},getToken:function(){return this.$store.getters["BarberStore/payloadToken"]},isAutenticated:function(){return this.$store.getters["BarberStore/tokenValido"]},logout:function(){this.$store.dispatch("BarberStore/logout"),this.$store.dispatch("BarbershopStore/logout"),localStorage.routePathAdmin="",this.goTo("login-barber")},storeBarber:function(e){this.$store.dispatch("UserStore/logout"),this.$store.dispatch("BarberStore/autenticar",e)}}};t["a"]=a},1681:function(e,t,r){},"2ce5":function(e,t,r){"use strict";r("b0c0");var n={methods:{goTo:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=this.$route.name;e!=r&&(t?this.$router.push({name:e,params:t}):this.$router.push({name:e}))},goToPath:function(e){this.$router.push({path:e})},goToBack:function(){this.$router.go(-1)}}};t["a"]=n},"4a32":function(e,t,r){},"51a9":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"profile"},[r("div",{staticClass:"conteudo-profile"},[r("img",{staticClass:"logo",attrs:{src:"/logo.png"}}),e.barber?r("div",{staticClass:"container"},[r("div",{staticClass:"profile-card elevation-1"},[r("v-row",[r("v-col",{staticClass:"text-center",attrs:{cols:"12",sm:"5",md:"4"}},[r("div",{staticClass:"profile-image-content d-inline-block text-center"},[e.imageUrl?r("img",{attrs:{src:e.imageUrl}}):e._e()]),r("div",{staticClass:"btn-upload-box"},[r("btn-secondary",{staticClass:"mt-6",attrs:{text:"Alterar Imagem",icon:"cloud_upload"},on:{clicked:e.toggleShow}})],1),r("upload-image",{attrs:{field:"img",width:300,height:300,"lang-type":"pt-br",url:e.uploadUrl,params:e.params,headers:e.headers,"img-format":"png"},on:{"crop-success":e.cropSuccess,"crop-upload-success":e.cropUploadSuccess,"crop-upload-fail":e.cropUploadFail},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}})],1),r("v-col",{staticClass:"pl-lg-8",attrs:{cols:"12",sm:"7",md:"8"}},[r("v-form",[r("v-row",[r("v-col",{staticClass:"py-0",attrs:{cols:"12"}},[r("input-field",{attrs:{label:"Nome",rules:e.nameRules,value:e.name,icon:"person",success:e.isNameValid,counter:"50"},on:{onKeyUp:e.setName},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),r("v-col",{staticClass:"py-0",attrs:{cols:"12",sm:"12",md:"7"}},[r("input-field",{attrs:{label:"E-mail",icon:"mail",disabled:!0,value:e.barber.email}})],1),r("v-col",{staticClass:"py-0",attrs:{cols:"12",sm:"12",md:"5"}},[r("phone-field",{attrs:{label:"Telefone",icon:"phone",rules:e.phoneRules,value:e.barber.phone,success:e.isPhoneValid},on:{onKeyUp:e.setPhone}})],1),r("v-col",{staticClass:"py-0",attrs:{cols:"12"}},[r("textarea-field",{attrs:{label:"Perfil",icon:"home",rules:e.profileRules,value:e.barber.profile,success:e.isProfileValid},on:{onKeyUp:e.setProfile},model:{value:e.profile,callback:function(t){e.profile=t},expression:"profile"}})],1),r("v-row",{staticClass:"ma-0",attrs:{align:"center"}},[r("v-spacer"),r("v-col",{attrs:{cols:"12",sm:"auto"}},[r("btn-secondary",{staticClass:"mt-4",attrs:{text:"Salvar",icon:"check",disabled:e.btnDisabled},on:{clicked:e.updateBarber}})],1),r("v-col",{staticClass:"pl-0",attrs:{cols:"12",sm:"auto"}},[r("btn-text",{staticClass:"mt-0 mt-sm-4",attrs:{text:"Cancelar",disabled:e.btnDisabled},on:{clicked:e.updateBarber}})],1)],1)],1)],1)],1)],1)],1)]):e._e()]),r("overlay",{ref:"overlay"})],1)},o=[],a=(r("99af"),r("b0c0"),r("be3b")),i=r("e7e3"),s=r("39db"),l=r("3b11"),c=r("8c08"),u=r("93bc"),d=r("d2a0"),f=r("0b4d"),p=r("09ba"),h=r("2ce5"),b=r("d97b"),v=r("5988"),m=r("5ff8"),g={name:"Profile",components:{BtnSecondary:i["a"],BtnText:s["a"],InputField:l["a"],UploadImage:f["a"],Overlay:c["a"],PhoneField:u["a"],TextareaField:d["a"]},mixins:[p["a"],h["a"],b["a"],v["a"],m["a"]],data:function(){return{name:"",email:"",profile:"",phone:"",nameRules:[function(e){return!!e||"Informe seu nome"},function(e){return e&&e.length<=50||"O campo nome deve ter no máximo 50 caracteres"}],phoneRules:[function(e){return!!e||"Informe seu telefone"}],profileRules:[function(e){return e&&e.length<=200||"O seu perfil deve ter no máximo 50 caracteres"}],show:!1,params:{image:""},headers:{token:"",smail:"*_~"},uploadUrl:"",imgDataUrl:"",imageKey:0}},computed:{btnDisabled:function(){return!this.isNameValid||!this.isPhoneValid},imageUrl:function(){return this.barber.image_url?"".concat(this.$url_backend).concat(this.barber.image_url):null},isPhoneValid:function(){var e=this.removeSimbols(this.phone);return this.phone&&(10===e.length||11===e.length)},isProfileValid:function(){return!(!this.profile||!this.profile.length)},isNameValid:function(){return this.name&&this.name.length<=50}},watch:{barber:function(e){e&&this.setBarber()}},mounted:function(){var e=this;this.headers.token=localStorage.token,this.uploadUrl=this.$url_api+"/barber/image",setTimeout((function(){e.setBarber()}),300)},methods:{onOverlaySuccess:function(e){this.showSnackbar(e)},setError:function(e){this.showSnackbarErro(e),this.hideOverlayError(e)},setBarber:function(){this.name=this.barber.name,this.email=this.barber.email,this.phone=this.barber.phone,this.profile=this.barber.profile},setPhone:function(e){this.phone=e},setName:function(e){this.name=e},setProfile:function(e){this.profile=e},updateBarber:function(){var e=this;this.showOverlay("Salvando dados"),a["a"].put("/barber/".concat(this.barber.id),{name:this.name,phone:this.removeSimbols(this.phone),profile:this.profile}).then((function(t){if(200===t.data.codigo){var r=t.data.corpo.token;e.storeBarber(r),e.getBarber();var n="Perfil alterado com sucesso!";e.hideOverlaySuccess(n)}else e.setError(t.data.corpo)})).catch((function(t){e.setError("Não foi possível alterar seus dados!"),window.console.log(t)}))},toggleShow:function(){this.show=!this.show},cropSuccess:function(e){this.imgDataUrl=e,this.params.image=e},cropUploadSuccess:function(e){var t=e.corpo;this.storeBarber(t),this.barber=this.getBarber(),this.hideOverlaySuccess("Imagem alterado com sucesso!")},cropUploadFail:function(e,t){window.console.log("-------- upload fail --------"),window.console.log(e),window.console.log("field: "+t)}}},y=g,w=(r("b105"),r("2877")),O=r("6544"),B=r.n(O),S=r("62ad"),j=(r("a4d3"),r("4de4"),r("7db0"),r("4160"),r("caad"),r("e439"),r("dbb4"),r("b64b"),r("07ac"),r("2532"),r("159b"),r("2fa7")),_=r("58df"),k=r("7e2b"),x=r("3206");function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(r,!0).forEach((function(t){Object(j["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var I=Object(_["a"])(k["a"],Object(x["b"])("form")).extend({name:"v-form",inheritAttrs:!1,props:{lazyValidation:Boolean,value:Boolean},data:function(){return{inputs:[],watchers:[],errorBag:{}}},watch:{errorBag:{handler:function(e){var t=Object.values(e).includes(!0);this.$emit("input",!t)},deep:!0,immediate:!0}},methods:{watchInput:function(e){var t=this,r=function(e){return e.$watch("hasError",(function(r){t.$set(t.errorBag,e._uid,r)}),{immediate:!0})},n={_uid:e._uid,valid:function(){},shouldValidate:function(){}};return this.lazyValidation?n.shouldValidate=e.$watch("shouldValidate",(function(o){o&&(t.errorBag.hasOwnProperty(e._uid)||(n.valid=r(e)))})):n.valid=r(e),n},validate:function(){return 0===this.inputs.filter((function(e){return!e.validate(!0)})).length},reset:function(){this.inputs.forEach((function(e){return e.reset()})),this.resetErrorBag()},resetErrorBag:function(){var e=this;this.lazyValidation&&setTimeout((function(){e.errorBag={}}),0)},resetValidation:function(){this.inputs.forEach((function(e){return e.resetValidation()})),this.resetErrorBag()},register:function(e){this.inputs.push(e),this.watchers.push(this.watchInput(e))},unregister:function(e){var t=this.inputs.find((function(t){return t._uid===e._uid}));if(t){var r=this.watchers.find((function(e){return e._uid===t._uid}));r&&(r.valid(),r.shouldValidate()),this.watchers=this.watchers.filter((function(e){return e._uid!==t._uid})),this.inputs=this.inputs.filter((function(e){return e._uid!==t._uid})),this.$delete(this.errorBag,t._uid)}}},render:function(e){var t=this;return e("form",{staticClass:"v-form",attrs:$({novalidate:!0},this.attrs$),on:{submit:function(e){return t.$emit("submit",e)}}},this.$slots.default)}}),C=r("0fd9"),E=r("2fa4"),V=Object(w["a"])(y,n,o,!1,null,"72e8baed",null);t["default"]=V.exports;B()(V,{VCol:S["a"],VForm:I,VRow:C["a"],VSpacer:E["a"]})},"90a2":function(e,t,r){"use strict";r("7db0");var n=r("bf2d");function o(e,t){var r=t.modifiers||{},o=t.value,i="object"===Object(n["a"])(o),s=i?o.handler:o,l=new IntersectionObserver((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;if(e._observe){if(s&&(!r.quiet||e._observe.init)){var o=Boolean(t.find((function(e){return e.isIntersecting})));s(t,n,o)}e._observe.init&&r.once?a(e):e._observe.init=!0}}),o.options||{});e._observe={init:!1,observer:l},l.observe(e)}function a(e){e._observe&&(e._observe.observer.unobserve(e),delete e._observe)}var i={inserted:o,unbind:a};t["a"]=i},b105:function(e,t,r){"use strict";var n=r("4a32"),o=r.n(n);o.a},d28b:function(e,t,r){var n=r("746f");n("iterator")},d2a0:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-textarea",{attrs:{"auto-grow":!0,rows:"1",label:e.label,color:"success",success:e.success,"validate-on-blur":""},on:{keyup:e.onKeyUp},scopedSlots:e._u([{key:"prepend-inner",fn:function(){return[r("v-icon",{staticClass:"material-icons-outlined mr-2",attrs:{dense:""}},[e._v(e._s(e.icon))])]},proxy:!0}]),model:{value:e.valueModel,callback:function(t){e.valueModel=t},expression:"valueModel"}})},o=[],a={name:"TextareaField",props:{label:{required:!0},value:{default:""},id:{default:null},success:{default:null},icon:{default:null}},data:function(){return{valueModel:""}},watch:{value:function(e){this.valueModel=e}},methods:{onKeyUp:function(){this.$emit("onKeyUp",this.valueModel,this.id)}}},i=a,s=r("2877"),l=r("6544"),c=r.n(l),u=r("132d"),d=(r("a4d3"),r("4de4"),r("4160"),r("a9e3"),r("e439"),r("dbb4"),r("b64b"),r("acd8"),r("e25e"),r("159b"),r("2fa7")),f=(r("1681"),r("8654")),p=r("58df");function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(r,!0).forEach((function(t){Object(d["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var v=Object(p["a"])(f["a"]),m=v.extend({name:"v-textarea",props:{autoGrow:Boolean,noResize:Boolean,rowHeight:{type:[Number,String],default:24,validator:function(e){return!isNaN(parseFloat(e))}},rows:{type:[Number,String],default:5,validator:function(e){return!isNaN(parseInt(e,10))}}},computed:{classes:function(){return b({"v-textarea":!0,"v-textarea--auto-grow":this.autoGrow,"v-textarea--no-resize":this.noResizeHandle},f["a"].options.computed.classes.call(this))},noResizeHandle:function(){return this.noResize||this.autoGrow}},watch:{lazyValue:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)},rowHeight:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)}},mounted:function(){var e=this;setTimeout((function(){e.autoGrow&&e.calculateInputHeight()}),0)},methods:{calculateInputHeight:function(){var e=this.$refs.input;if(e){e.style.height="0";var t=e.scrollHeight,r=parseInt(this.rows,10)*parseFloat(this.rowHeight);e.style.height=Math.max(r,t)+"px"}},genInput:function(){var e=f["a"].options.methods.genInput.call(this);return e.tag="textarea",delete e.data.attrs.type,e.data.attrs.rows=this.rows,e},onInput:function(e){f["a"].options.methods.onInput.call(this,e),this.autoGrow&&this.calculateInputHeight()},onKeyDown:function(e){this.isFocused&&13===e.keyCode&&e.stopPropagation(),this.$emit("keydown",e)}}}),g=Object(s["a"])(i,n,o,!1,null,null,null);t["a"]=g.exports;c()(g,{VIcon:u["a"],VTextarea:m})},d9f7:function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));r("a4d3"),r("e01a"),r("d28b"),r("99af"),r("4de4"),r("4160"),r("e439"),r("dbb4"),r("b64b"),r("d3b7"),r("ac1f"),r("3ca3"),r("1276"),r("498a"),r("159b"),r("ddb0");var n=r("2fa7"),o=r("e587"),a=r("80d2");function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(r,!0).forEach((function(t){Object(n["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var l={styleList:/;(?![^(]*\))/g,styleProp:/:(.*)/};function c(e){var t={},r=!0,n=!1,i=void 0;try{for(var s,c=e.split(l.styleList)[Symbol.iterator]();!(r=(s=c.next()).done);r=!0){var u=s.value,d=u.split(l.styleProp),f=Object(o["a"])(d,2),p=f[0],h=f[1];p=p.trim(),p&&("string"===typeof h&&(h=h.trim()),t[Object(a["c"])(p)]=h)}}catch(b){n=!0,i=b}finally{try{r||null==c.return||c.return()}finally{if(n)throw i}}return t}function u(){var e,t,r={},n=arguments.length;while(n--)for(var o=0,a=Object.keys(arguments[n]);o<a.length;o++)switch(e=a[o],e){case"class":case"style":case"directives":if(!arguments[n][e])break;if(Array.isArray(r[e])||(r[e]=[]),"style"===e){var i=void 0;i=Array.isArray(arguments[n].style)?arguments[n].style:[arguments[n].style];for(var l=0;l<i.length;l++){var u=i[l];"string"===typeof u&&(i[l]=c(u))}arguments[n].style=i}r[e]=r[e].concat(arguments[n][e]);break;case"staticClass":if(!arguments[n][e])break;void 0===r[e]&&(r[e]=""),r[e]&&(r[e]+=" "),r[e]+=arguments[n][e].trim();break;case"on":case"nativeOn":if(!arguments[n][e])break;r[e]||(r[e]={});for(var d=r[e],f=0,p=Object.keys(arguments[n][e]||{});f<p.length;f++)t=p[f],d[t]?d[t]=Array().concat(d[t],arguments[n][e][t]):d[t]=arguments[n][e][t];break;case"attrs":case"props":case"domProps":case"scopedSlots":case"staticStyle":case"hook":case"transition":if(!arguments[n][e])break;r[e]||(r[e]={}),r[e]=s({},arguments[n][e],{},r[e]);break;case"slot":case"key":case"ref":case"tag":case"show":case"keepAlive":default:r[e]||(r[e]=arguments[n][e])}return r}}}]);
//# sourceMappingURL=chunk-8e844080.7e2c9d16.js.map