(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1e024853"],{"2adc":function(e,t,a){"use strict";var r=a("57f2"),i=a.n(r);i.a},"4b72":function(e,t,a){},"51a9":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"profile"},[a("div",{staticClass:"profile"},[a("div",{staticClass:"profile-content px-4 px-sm-8 pb-4"},[a("card",{staticClass:"profile-card",attrs:{title:"Informações pessoais",icon:"account_box"}},[a("v-row",[a("v-col",{staticClass:"text-center",attrs:{cols:"12",sm:"5",md:"4"}},[a("div",{staticClass:"profile-image-content d-inline-block text-center"},[e.imageUrl?a("img",{attrs:{src:e.imageUrl}}):e._e()]),a("div",{staticClass:"btn-upload-box"},[a("btn-confirm",{staticClass:"mt-6",attrs:{text:"Alterar Imagem",icon:"cloud_upload"},on:{clicked:e.toggleShow}})],1),a("upload-image",{attrs:{field:"img",width:300,height:300,"lang-type":"pt-br",url:e.uploadUrl,params:e.params,headers:e.headers,"img-format":"png"},on:{"crop-success":e.cropSuccess,"crop-upload-success":e.cropUploadSuccess,"crop-upload-fail":e.cropUploadFail},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}})],1),a("v-col",{staticClass:"pl-lg-8",attrs:{cols:"12",sm:"7",md:"8",lg:"6"}},[a("v-form",[a("v-row",[a("v-col",{staticClass:"py-0",attrs:{cols:"12"}},[a("input-field",{attrs:{label:"Nome",rules:e.nameRules,value:e.barber.name,counter:"50"},on:{onKeyUp:e.setName},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),a("v-col",{staticClass:"py-0",attrs:{cols:"12",sm:"12",md:"7"}},[a("input-field",{attrs:{label:"E-mail",disabled:!0,value:e.barber.email}})],1),a("v-col",{staticClass:"py-0",attrs:{cols:"12",sm:"12",md:"5"}},[a("phone-field",{attrs:{label:"Telefone",rules:e.phoneRules,value:e.barber.phone},on:{onKeyUp:e.setPhone}})],1),a("v-col",{staticClass:"py-0",attrs:{cols:"12"}},[a("textarea-field",{attrs:{label:"Perfil",rules:e.profileRules,value:e.barber.profile}})],1),a("v-row",{staticClass:"ma-0"},[a("v-spacer"),a("v-col",{attrs:{cols:"12",sm:"auto"}},[a("btn-secondary",{staticClass:"mt-4",attrs:{text:"Salvar",disabled:e.btnDisabled},on:{clicked:e.updateBarber}})],1),a("v-col",{attrs:{cols:"12",sm:"auto"}},[a("btn-text",{staticClass:"mt-0 mt-sm-4",attrs:{text:"Cancelar",disabled:e.btnDisabled},on:{clicked:e.updateBarber}})],1)],1)],1)],1)],1)],1)],1)],1)]),a("overlay",{ref:"overlay"})],1)},i=[],o=(a("99af"),a("b0c0"),a("be3b")),n=a("96f9"),s=a("e7e3"),l=a("39db"),c=a("d035"),u=a("3b11"),d=a("8c08"),f=a("93bc"),h=a("d2a0"),b=a("0b4d"),p=a("09ba"),m=a("2ce5"),v=a("d97b"),g=a("5988"),w=a("5ff8"),_={name:"Profile",components:{BtnConfirm:n["a"],BtnSecondary:s["a"],BtnText:l["a"],Card:c["a"],InputField:u["a"],UploadImage:b["a"],Overlay:d["a"],PhoneField:f["a"],TextareaField:h["a"]},mixins:[p["a"],m["a"],v["a"],g["a"],w["a"]],data:function(){return{name:"",email:"",profile:"",phone:"",barber:{id:"",email:"",name:"",profile:"",phone:"",image_url:""},nameRules:[function(e){return!!e||"Informe seu nome"},function(e){return e&&e.length<=50||"O campo nome deve ter no máximo 50 caracteres"}],phoneRules:[function(e){return!!e||"Informe seu telefone"}],profileRules:[function(e){return e&&e.length<=200||"O seu perfil deve ter no máximo 50 caracteres"}],show:!1,params:{image:""},headers:{token:"",smail:"*_~"},uploadUrl:"",imgDataUrl:"",imageKey:0}},computed:{btnDisabled:function(){if(!this.name||this.name.length>50)return!0;var e=this.removeSimbols(this.phone);return!e||10!=e.length&&11!=e.length},imageUrl:function(){return this.barber.image_url?"".concat(this.$url_backend).concat(this.barber.image_url):null}},mounted:function(){var e=this;this.headers.token=localStorage.token,this.uploadUrl=this.$url_api+"/barber/image",setTimeout((function(){e.barber=e.getBarber(),e.name=e.barber.name,e.email=e.barber.email,e.phone=e.barber.phone,e.profile=e.barber.profile}),300)},methods:{onOverlaySuccess:function(e){this.showSnackbar(e)},setError:function(e){this.showSnackbarErro(e),this.hideOverlayError(e)},setPhone:function(e){this.phone=e},setName:function(e){this.name=e},updateBarber:function(){var e=this;this.showOverlay("Salvando dados"),o["a"].put("/barber/".concat(this.barber.id),{name:this.name,phone:this.removePhoneMask(this.phone),profile:this.profile}).then((function(t){if(200===t.data.codigo){var a=t.data.corpo.token;e.storeBarber(a),e.getBarber();var r="Perfil alterado com sucesso!";e.hideOverlaySuccess(r)}else e.setError(t.data.corpo)})).catch((function(t){e.setError("Não foi possível alterar seus dados!"),window.console.log(t)}))},toggleShow:function(){this.show=!this.show},cropSuccess:function(e){this.imgDataUrl=e,this.params.image=e},cropUploadSuccess:function(e){var t=e.corpo;this.storeBarber(t),this.barber=this.getBarber(),this.hideOverlaySuccess("Imagem alterado com sucesso!")},cropUploadFail:function(e,t){window.console.log("-------- upload fail --------"),window.console.log(e),window.console.log("field: "+t)}}},y=_,O=(a("a41b"),a("2877")),C=a("6544"),k=a.n(C),B=a("62ad"),x=(a("a4d3"),a("4de4"),a("7db0"),a("4160"),a("caad"),a("e439"),a("dbb4"),a("b64b"),a("07ac"),a("2532"),a("159b"),a("2fa7")),S=a("58df"),j=a("7e2b"),P=a("3206");function E(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function V(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?E(a,!0).forEach((function(t){Object(x["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):E(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var U=Object(S["a"])(j["a"],Object(P["b"])("form")).extend({name:"v-form",inheritAttrs:!1,props:{lazyValidation:Boolean,value:Boolean},data:function(){return{inputs:[],watchers:[],errorBag:{}}},watch:{errorBag:{handler:function(e){var t=Object.values(e).includes(!0);this.$emit("input",!t)},deep:!0,immediate:!0}},methods:{watchInput:function(e){var t=this,a=function(e){return e.$watch("hasError",(function(a){t.$set(t.errorBag,e._uid,a)}),{immediate:!0})},r={_uid:e._uid,valid:function(){},shouldValidate:function(){}};return this.lazyValidation?r.shouldValidate=e.$watch("shouldValidate",(function(i){i&&(t.errorBag.hasOwnProperty(e._uid)||(r.valid=a(e)))})):r.valid=a(e),r},validate:function(){return 0===this.inputs.filter((function(e){return!e.validate(!0)})).length},reset:function(){this.inputs.forEach((function(e){return e.reset()})),this.resetErrorBag()},resetErrorBag:function(){var e=this;this.lazyValidation&&setTimeout((function(){e.errorBag={}}),0)},resetValidation:function(){this.inputs.forEach((function(e){return e.resetValidation()})),this.resetErrorBag()},register:function(e){this.inputs.push(e),this.watchers.push(this.watchInput(e))},unregister:function(e){var t=this.inputs.find((function(t){return t._uid===e._uid}));if(t){var a=this.watchers.find((function(e){return e._uid===t._uid}));a&&(a.valid(),a.shouldValidate()),this.watchers=this.watchers.filter((function(e){return e._uid!==t._uid})),this.inputs=this.inputs.filter((function(e){return e._uid!==t._uid})),this.$delete(this.errorBag,t._uid)}}},render:function(e){var t=this;return e("form",{staticClass:"v-form",attrs:V({novalidate:!0},this.attrs$),on:{submit:function(e){return t.$emit("submit",e)}}},this.$slots.default)}}),$=a("0fd9"),I=a("2fa4"),D=Object(O["a"])(y,r,i,!1,null,"48d653cc",null);t["default"]=D.exports;k()(D,{VCol:B["a"],VForm:U,VRow:$["a"],VSpacer:I["a"]})},"57f2":function(e,t,a){},"90a2":function(e,t,a){"use strict";a("7db0");var r=a("bf2d");function i(e,t){var a=t.modifiers||{},i=t.value,n="object"===Object(r["a"])(i),s=n?i.handler:i,l=new IntersectionObserver((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1?arguments[1]:void 0;if(e._observe){if(s&&(!a.quiet||e._observe.init)){var i=Boolean(t.find((function(e){return e.isIntersecting})));s(t,r,i)}e._observe.init&&a.once?o(e):e._observe.init=!0}}),i.options||{});e._observe={init:!1,observer:l},l.observe(e)}function o(e){e._observe&&(e._observe.observer.unobserve(e),delete e._observe)}var n={inserted:i,unbind:o};t["a"]=n},"96f9":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-btn",{staticClass:"btn-confirm py-3 text-capitalize font-weight-bold",class:e.cssClass,attrs:{color:"secondary",height:"auto",block:e.block,disabled:e.disabled},on:{click:e.clicked}},[e.loading?[a("v-progress-circular",{attrs:{indeterminate:"",width:"2",color:"primaryDark",small:""}})]:[e.icon?a("v-icon",{staticClass:"mr-1"},[e._v(" "+e._s(e.icon)+" ")]):e._e(),e._v(" "+e._s(e.text)+" ")]],2)},i=[],o={name:"BtnConfirm",props:{block:{default:!0},disabled:{default:!1},text:{default:"Confirmar"},icon:{default:""},cssClass:{default:""},loading:{default:!1}},methods:{clicked:function(){this.$emit("clicked")}}},n=o,s=(a("2adc"),a("2877")),l=a("6544"),c=a.n(l),u=a("8336"),d=a("132d"),f=a("490a"),h=Object(s["a"])(n,r,i,!1,null,"9c7e9870",null);t["a"]=h.exports;c()(h,{VBtn:u["a"],VIcon:d["a"],VProgressCircular:f["a"]})},a41b:function(e,t,a){"use strict";var r=a("4b72"),i=a.n(r);i.a}}]);
//# sourceMappingURL=chunk-1e024853.c93f7e02.js.map