{"version":3,"sources":["webpack:///./src/components/auth/Login.vue?3ddf","webpack:///./src/pages/auth/user/Login.vue?fb4e","webpack:///./src/components/auth/Login.vue?f033","webpack:///src/components/auth/Login.vue","webpack:///./src/components/auth/Login.vue?09cf","webpack:///./src/components/auth/Login.vue?4cbf","webpack:///src/pages/auth/user/Login.vue","webpack:///./src/pages/auth/user/Login.vue?490b","webpack:///./src/pages/auth/user/Login.vue","webpack:///./src/mixins/BarbershopMixin.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","alertInfo","loading","userNotEnabled","on","login","loginWithGoogle","sendMail","ref","staticRenderFns","progressLoader","isBarber","$event","preventDefault","logar","apply","arguments","staticClass","openFormDialog","params","renderParams","_v","recoveryPassword","register","model","value","callback","$$v","formDialog","expression","emailRules","isEmailValid","email","type","indexOf","_k","keyCode","key","focusToNext","onInputField","scopedSlots","_u","fn","proxy","isPasswordValid","showPassword","passwordRules","enterClick","password","directives","name","rawName","domProps","target","composing","formToken","components","AuthTemplate","BtnPrimary","BtnSecondary","gbutton","mixins","props","default","data","client_id","height","width","theme","methods","googleUser","google_id","$emit","isFormValid","id","setTimeout","el","document","goTo","component","VBtn","VCard","VDialog","VIcon","VTextField","LoginApp","Overlay","mounted","Axios","then","response","codigo","catch","window","$refs","overlay","showOverlay","onSendMailError","msg","hideOverlayError","showSnackbarErro","status","setError","hideOverlay","setUser","token","storeUser","user","enabled","lastUrl","goToPath","BarbershopMixin","computed","barbershop","set","get","$store","getters","barbershopState","storeBarbershop","dispatch","getBarbershop","getBarbershopByIdOnService","onGetBarbershopByIdOnServiceSuccess","corpo","onGetBarbershopByIdOnServiceError","err","console","log","getBarbershopAllOnService","onGetBarbershopAllOnServiceSuccess","onGetBarbershopAllOnServiceError","syncBarbershop","updateBarbershopOnService","url","put","onUpdateBarbershopOnServiceSuccess","onUpdateBarbershopOnServiceError"],"mappings":"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","file":"js/chunk-8dbaab56.8a2c78c0.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&id=1383cd38&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('login-app',{attrs:{\"alertInfo\":_vm.alertInfo,\"progressLoader\":_vm.loading,\"userNotEnabled\":_vm.userNotEnabled},on:{\"login\":_vm.login,\"loginWithGoogle\":_vm.loginWithGoogle,\"sendMail\":_vm.sendMail}}),_c('overlay',{ref:\"overlay\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('auth-template',{attrs:{\"title\":\"Login\",\"alert\":_vm.alertInfo && !_vm.progressLoader,\"isBarber\":_vm.isBarber,\"goBackRoute\":\"search\",\"userNotEnabled\":_vm.userNotEnabled},on:{\"sendMail\":_vm.sendMail}},[_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.logar.apply(null, arguments)}}},[_c('div',{staticClass:\"text-center\"},[_c('btn-primary',{attrs:{\"text\":\"Logar com e-mail e senha\",\"loading\":_vm.progressLoader},on:{\"clicked\":_vm.openFormDialog}})],1),_c('gbutton',{staticClass:\"mt-4 mx-auto d-inline-block\",attrs:{\"params\":_vm.params,\"renderParams\":_vm.renderParams,\"onSuccess\":_vm.loginWithGoogle}},[_vm._v(\" Logar com o Google \")]),_c('div',{staticClass:\"d-block mt-12\"},[_c('btn-secondary',{attrs:{\"text\":\"Recuperar senha\",\"dark\":\"\"},on:{\"clicked\":_vm.recoveryPassword}})],1),_c('div',{staticClass:\"mt-4 d-block\"},[_c('btn-secondary',{attrs:{\"text\":\"Cadastrar-se\"},on:{\"clicked\":function($event){return _vm.register()}}})],1)],1),_c('v-dialog',{attrs:{\"transition\":\"dialog-bottom-transition\",\"width\":\"350\",\"persistent\":\"\"},model:{value:(_vm.formDialog),callback:function ($$v) {_vm.formDialog=$$v},expression:\"formDialog\"}},[_c('v-card',{staticClass:\"modal-content pa-4\",attrs:{\"dark\":\"\"}},[_c('div',{staticClass:\"text-right\"},[_c('v-btn',{attrs:{\"icon\":\"\",\"dark\":\"\"},on:{\"click\":function($event){_vm.formDialog = false}}},[_c('v-icon',[_vm._v(\"mdi-close\")])],1)],1),_c('div',[_c('div',{staticClass:\"text-center\"},[_c('img',{staticClass:\"logo\",attrs:{\"src\":\"/logo.png\"}})]),_c('div',{staticClass:\"form-group\"},[_c('v-text-field',{staticClass:\"email\",attrs:{\"id\":\"email\",\"name\":\"email\",\"dark\":\"\",\"label\":\"E-mail\",\"rules\":_vm.emailRules,\"success\":_vm.isEmailValid(_vm.email),\"clearable\":\"\",\"required\":\"\",\"validate-on-blur\":\"\"},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.focusToNext('password')},\"input\":function($event){return _vm.onInputField('email')}},scopedSlots:_vm._u([{key:\"prepend-inner\",fn:function(){return [_c('v-icon',{staticClass:\"outlined material-icons-outlined mr-2\",attrs:{\"dense\":\"\"}},[_vm._v(\"mail\")])]},proxy:true}]),model:{value:(_vm.email),callback:function ($$v) {_vm.email=$$v},expression:\"email\"}})],1),_c('div',{staticClass:\"form-group\"},[_c('v-text-field',{ref:\"password\",attrs:{\"id\":\"password\",\"success\":_vm.isPasswordValid(_vm.email),\"dark\":\"\",\"type\":_vm.showPassword ? 'text' : 'password',\"label\":\"Senha\",\"color\":\"success\",\"append-icon\":_vm.showPassword ? 'visibility_off' : 'remove_red_eye',\"rules\":_vm.passwordRules,\"clearable\":\"\",\"name\":\"password\",\"required\":\"\",\"validate-on-blur\":\"\"},on:{\"click:append\":function($event){_vm.showPassword = !_vm.showPassword},\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.enterClick.apply(null, arguments)},\"input\":function($event){return _vm.onInputField('password')}},scopedSlots:_vm._u([{key:\"prepend-inner\",fn:function(){return [_c('v-icon',{staticClass:\"material-icons-outlined mr-2\",attrs:{\"dense\":\"\"}},[_vm._v(\"vpn_key\")])]},proxy:true}]),model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}})],1),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.formToken),expression:\"formToken\"}],staticClass:\"d-none\",attrs:{\"type\":\"text\",\"name\":\"formToken\",\"required\":\"\"},domProps:{\"value\":(_vm.formToken)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.formToken=$event.target.value}}}),_c('div',{staticClass:\"text-center mt-6\"},[_c('btn-primary',{staticClass:\"btnLogin\",attrs:{\"text\":\"LOGAR\",\"loading\":_vm.progressLoader},on:{\"clicked\":_vm.login}})],1)])])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<auth-template\n    title=\"Login\"\n    :alert=\"alertInfo && !progressLoader\"\n    :isBarber=\"isBarber\"\n    goBackRoute=\"search\"\n    :userNotEnabled=\"userNotEnabled\"\n    @sendMail=\"sendMail\"\n  >\n    <form @submit.prevent=\"logar\">\n      <div class=\"text-center\">\n        <btn-primary \n          text=\"Logar com e-mail e senha\"\n          :loading=\"progressLoader\"\n          @clicked=\"openFormDialog\"\n        />\n      </div>\n      \n      <gbutton\n        class=\"mt-4 mx-auto d-inline-block\"\n        :params=\"params\"\n        :renderParams=\"renderParams\"\n        :onSuccess=\"loginWithGoogle\"\n      >\n        Logar com o Google\n      </gbutton>\n\n      <div class=\"d-block mt-12\">\n        <btn-secondary\n          text=\"Recuperar senha\"\n          dark\n          @clicked=\"recoveryPassword\"\n        />\n      </div>\n\n\t\t\t<div class=\"mt-4 d-block\">\n        <btn-secondary\n          text=\"Cadastrar-se\"\n          @clicked=\"register()\"\n        />\n      </div>\n    </form>\n\n    <v-dialog\n      v-model=\"formDialog\"\n      transition=\"dialog-bottom-transition\"\n      width=\"350\"\n      persistent\n    >\n      <v-card dark class=\"modal-content pa-4\">\n        <div class=\"text-right\">\n          <v-btn\n            icon\n            dark\n            @click=\"formDialog = false\"\n          >\n            <v-icon>mdi-close</v-icon>\n          </v-btn>\n        </div>\n        <div>\n          <div class=\"text-center\">\n            <img src=\"/logo.png\" class=\"logo\" />\n          </div>\n          <div class=\"form-group\">\n            \n            <v-text-field\n              id=\"email\"\n              v-model=\"email\"\n              class=\"email\"\n              name=\"email\"\n              dark\n              label=\"E-mail\"\n              :rules=\"emailRules\"\n              v-on:keyup.enter=\"focusToNext('password')\"\n              :success=\"isEmailValid(email)\"\n              clearable\n              required\n              validate-on-blur \n              @input=\"onInputField('email')\"\n            >\n              <template v-slot:prepend-inner>\n                <v-icon class=\"outlined material-icons-outlined mr-2\" dense>mail</v-icon>\n              </template>\n            </v-text-field>\n          </div>\n\n          <div class=\"form-group\">\n            <v-text-field\n              id=\"password\"\n              ref=\"password\"\n              v-model=\"password\"\n              :success=\"isPasswordValid(email)\"\n              dark\n              :type=\"showPassword ? 'text' : 'password'\"\n              label=\"Senha\"\n              color=\"success\"\n              :append-icon=\"showPassword ? 'visibility_off' : 'remove_red_eye'\"\n              :rules=\"passwordRules\"\n              @click:append=\"showPassword = !showPassword\"\n              v-on:keyup.enter=\"enterClick\"\n              clearable\n              name=\"password\"\n              required\n              validate-on-blur \n              @input=\"onInputField('password')\"\n            >\n              <template v-slot:prepend-inner>\n                <v-icon class=\"material-icons-outlined mr-2\" dense>vpn_key</v-icon>\n              </template>\n            </v-text-field>\n          </div>\n\n          <input type=\"text\" class=\"d-none\" v-model=\"formToken\" name=\"formToken\" required />\n\n          <div class=\"text-center mt-6\">\n            <btn-primary \n              class=\"btnLogin\"\n              text=\"LOGAR\"\n              :loading=\"progressLoader\"\n              @clicked=\"login\"\n            />\n          </div>  \n        </div>\n      </v-card>\n    </v-dialog>\n  </auth-template>\n</template>\n\n<script>\nimport gbutton from 'vue-google-login'\nimport AuthTemplate from './AuthTemplate'\nimport BtnPrimary from './BtnPrimary'\nimport BtnSecondary from './BtnSecondary'\nimport BarbershopMixin from '@/mixins/BarbershopMixin'\nimport FormMixin from '@/mixins/FormMixin'\nimport NavigationMixin from '@/mixins/NavigationMixin'\nimport SnackbarMixin from '@/mixins/SnackbarMixin'\nimport UserMixin from '@/mixins/UserMixin'\nimport ValidationMixin from '@/mixins/ValidationMixin'\n\nexport default {\n  name: 'Login',\n  components: { AuthTemplate, BtnPrimary, BtnSecondary, gbutton },\n  mixins: [ BarbershopMixin, FormMixin, NavigationMixin, SnackbarMixin, UserMixin, ValidationMixin ],\n  props: {\n    progressLoader: { default: false },\n    alertInfo: { default: false },\n    isBarber: { default: false },\n    userNotEnabled: { default: false }\n  },\n  data: () => ({\n    showPassword: false,\n    email: '',\n    formDialog: false,\n    formToken: '',\n    password: '',\n    params: {\n      client_id: '69364991955-nfb8lar5v22bfikoba0imp8vjmscr23h.apps.googleusercontent.com'\n    },\n    renderParams: {\n      height: 45,\n      width: 200,\n      theme: 'dark'\n    }\n  }),\n  methods: {\n    loginWithGoogle (googleUser) {\n      const profile = googleUser.getBasicProfile()\n      const data = {\n        google_id: profile.getId(),\n        name: profile.getName(),\n        email: profile.getEmail(),\n        formToken: this.formToken\n      } \n      this.$emit('loginWithGoogle', data)\n    },\n    enterClick () {\n      this.login()\n    },\n    isFormValid () {\n      if (!this.isEmailValid(this.email)) return false\n      if (!this.isPasswordValid(this.password)) return false\n      return true\n    },\n    login () {\n      if (this.isFormValid()) {\n        let data = {\n          email: this.email,\n          password: this.password,\n          formToken: this.formToken\n        }\n        this.$emit('login', data)\n      } else this.showSnackbarErro('Preencha todos os dados corretamente!')\n    },\n    onInputField(id) {\n      setTimeout(() => { \n        const el = document.querySelector(`#${id}`)\n        if (el) el.value = this.$data[id] \n      }, 100);\n    },\n    openFormDialog () {\n      this.formDialog = true\n      setTimeout(() => {\n         document.querySelector('#email').focus()\n      }, 500)\n    },\n    register () {\n      if (this.isBarber) this.goTo('register-barber')\n      else this.goTo('register')\n    },\n    recoveryPassword () {\n      if (this.isBarber) this.goTo('barber-recovery-password')\n      else this.goTo('recovery-password')\n    },\n    sendMail () {\n      this.$emit('sendMail')\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.modal-content {\n  background: #000000fa;\n  padding: 24px !important;\n  display: flex;\n  justify-content: center;\n  align-self: center;\n  flex-direction: column;\n  margin: auto;\n}\n.btnLogin { width: 180px; }\n.logo { width: 200px; max-width: 100%; }\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=1383cd38&scoped=true&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&id=1383cd38&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1383cd38\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCard,VDialog,VIcon,VTextField})\n","<template>\n  <div>\n    <login-app\n      :alertInfo=\"alertInfo\"\n      :progressLoader=\"loading\"\n      :userNotEnabled=\"userNotEnabled\"\n      @login=\"login\"\n      @loginWithGoogle=\"loginWithGoogle\"\n      @sendMail=\"sendMail\"\n    />\n    <overlay ref=\"overlay\" />\n  </div>\n</template>\n\n<script>\nimport Axios from '@/plugins/axios'\nimport UserMixin from '@/mixins/UserMixin'\nimport LoginApp from '@/components/auth/Login'\nimport Overlay from '@/components/globais/overlay/Overlay'\nimport SnackbarMixin from '@/mixins/SnackbarMixin'\nimport NavigationMixin from '@/mixins/NavigationMixin'\nexport default {\n  name: 'Login',\n  components: { LoginApp, Overlay },\n  mixins: [ UserMixin, SnackbarMixin, NavigationMixin ],\n  data: () => ({\n    alertInfo: null,\n    loading: false,\n    userNotEnabled: false\n  }),\n  mounted () {\n    this.userNotEnabled = false\n  },\n  methods: {\n    login (data) {\n      this.loading = true\n      Axios.post('/auth/user/login', data)\n      .then(response => {\n        if (response.data.codigo === 200) {\n          let token = response.data.corpo\n          this.setUser(token)\n        } else this.setError(response.data.corpo)\n      })\n      .catch ((err) => {\n        window.console.log(err)\n        this.setError('Não foi possível realizar login na aplicação!')\n      })\n    },\n    loginWithGoogle (data) {\n      this.loading = true\n      this.$refs.overlay.showOverlay('Carregando...')\n      Axios.post('/auth/user/login-google', data)\n      .then(response => {\n        if (response.data.codigo === 200) {\n          let token = response.data.corpo\n          this.setUser(token)\n        } else this.setError(response.data.corpo)\n      })\n      .catch (() => this.setError('Não foi possível realizar login na aplicação!'))\n    },\n    onSendMailError (msg) {\n      this.$refs.overlay.hideOverlayError(msg);\n      this.showSnackbarErro(msg);\n    },\n    sendMail() {\n      const sendMailMessage = ''\n      this.$refs.overlay.showOverlay('Enviando e-mail...');\n      Axios.post('/user/resend-register-mail', {\n        email: this.user.email\n      }).then((response) => {\n        if (response.status === 200) {\n          if (response.data.codigo === 200) {\n            this.userNotEnabled = false\n            this.alertInfo = false\n            this.$refs.overlay.hideOverlaySuccess(response.data.corpo);\n          } else this.onSendMailError(response.data.corpo);\n        } else this.onSendMailError(sendMailMessage);\n      }).catch(() => this.onSendMailError(sendMailMessage));\n    },\n    setError (msg) {\n      this.$refs.overlay.hideOverlay()\n      this.alertInfo = null\n      this.loading = false\n      this.showSnackbarErro(msg)\n    },\n    setUser (token) {\n      const lastUrl = localStorage.lastUrl\n      this.storeUser(token)\n      let user = this.getUser()\n      if (user) {\n        if (user.enabled) {\n          if (lastUrl) this.goToPath(lastUrl)\n          else this.goTo('search')\n        }\n        this.loading = false\n        this.userNotEnabled = true;\n        this.$refs.overlay.hideOverlay();\n      } else this.setError('Não foi possível recuperar o token de acesso à aplicação!')\n    }\n  }\n}\n</script>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=b8a8e046&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Axios from '@/plugins/axios';\n\nconst BarbershopMixin = {\n  computed: {\n    barbershop: {\n      set() { },\n      get() {\n        return this.$store.getters['BarbershopStore/barbershop'];\n      }\n    },\n    barbershopState() {\n      return this.$store.getters['BarbershopStore/barbershop']\n    }\n  },\n  methods: {\n    storeBarbershop(barbershop) {\n      this.$store.dispatch('BarbershopStore/store', barbershop);\n    },\n    getBarbershop() {\n      return this.$store.getters['BarbershopStore/barbershop'];\n    },\n    getBarbershopByIdOnService(id) {\n      Axios.get(`/barbershop/${id}`)\n        .then((response) => {\n          if (response.data.codigo === 200) {\n            this.onGetBarbershopByIdOnServiceSuccess(response.data.corpo);\n          } else this.onGetBarbershopByIdOnServiceError(response.data.corpo);\n        })\n        .catch((err) => {\n          this.onGetBarbershopByIdOnServiceError(\n            'Não foi possível recuperar os dados da barbearia!'\n          );\n          window.console.log(err);\n        });\n    },\n    onGetBarbershopByIdOnServiceSuccess(response) {\n      window.console.log('onGetBarbershopByIdOnServiceSuccess: ' + response);\n    },\n    onGetBarbershopByIdOnServiceError(msg) {\n      window.console.log('onGetBarbershopByIdOnServiceError: ' + msg);\n    },\n    getBarbershopAllOnService() {\n      Axios.get(`/barbershop`)\n        .then((response) => {\n          if (response.data.codigo === 200) {\n            this.onGetBarbershopAllOnServiceSuccess(response.data.corpo);\n          } else this.onGetBarbershopAllOnServiceError(response.data.corpo);\n        })\n        .catch((err) => {\n          this.onGetBarbershopAllOnServiceError(\n            'Não foi possível recuperar os dados da barbearia!'\n          );\n          window.console.log(err);\n        });\n    },\n    onGetBarbershopAllOnServiceSuccess(response) {\n      window.console.log('onGetBarbershopAllOnServiceSuccess: ' + response);\n    },\n    onGetBarbershopAllOnServiceError(msg) {\n      window.console.log('onGetBarbershopAllOnServiceError: ' + msg);\n    },\n    syncBarbershop() {\n      Axios.get(`/barbershop/${this.barbershop.id}`).then((response) => {\n        if (response.data.codigo === 200) {\n          this.storeBarbershop(response.data.corpo);\n        }\n      });\n    },\n    updateBarbershopOnService(data, id) {\n      let url = `barbershop/${id}`;\n      Axios.put(url, data)\n        .then((response) => {\n          if (response.data.codigo === 200)\n            this.onUpdateBarbershopOnServiceSuccess(response.data.corpo);\n          else this.onUpdateBarbershopOnServiceError(response.data.corpo);\n        })\n        .catch((err) => {\n          window.console.log(err);\n          this.onUpdateBarbershopOnServiceError(\n            'Não foi possível atualizar os dados da barbearia!'\n          );\n        });\n    },\n    onUpdateBarbershopOnServiceSuccess(response) {\n      window.console.log('onUpdateBarbershopOnServiceSuccess: ' + response);\n    },\n    onUpdateBarbershopOnServiceError(msg) {\n      window.console.log('onUpdateBarbershopOnServiceError: ' + msg);\n    },\n  },\n};\n\nexport default BarbershopMixin;\n"],"sourceRoot":""}