(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-66f4e71c"],{"09ba":function(e,t,o){"use strict";var r=o("be3b"),n=o("2ce5"),a={mixins:[n["a"]],computed:{barber:function(){return this.$store.getters["BarberStore/barber"]||{id:null,barbershop_id:null,uuid:null,name:null,email:null,cpf:null,code:null,enabled:null,plan_id:null,plan_old_id:null,plan_due_date:null,plan_old_due_date:null,profile:null,phone:null,image_url:null,instagram_url:null,facebook_url:null,create_at:null,updated_at:null,deleted_at:null}}},methods:{getBarber:function(){return this.$store.getters["BarberStore/barber"]},getBarberByBarbershopIdOnService:function(e){var t=this;r["a"].get("/barbershop/".concat(e,"/barber")).then((function(e){200===e.data.codigo?t.onGetBarberByBarbershopIdOnServiceSuccess(e.data.corpo):t.onGetBarberByBarbershopIdOnServiceError(e.data.corpo)})).catch((function(e){t.onGetBarberByBarbershopIdOnServiceError("Não foi possível recuperar os dados da barbearia!"),window.console.log(e)}))},onGetBarberByBarbershopIdOnServiceError:function(e){window.console.log(e)},onGetBarberByBarbershopIdOnServiceSuccess:function(e){window.console.log(JSON.stringify(e))},getToken:function(){return this.$store.getters["BarberStore/payloadToken"]},isAutenticated:function(){return this.$store.getters["BarberStore/tokenValido"]},logout:function(){this.$store.dispatch("BarberStore/logout"),this.$store.dispatch("BarbershopStore/logout"),localStorage.routePathAdmin="",this.goTo("login-barber")},storeBarber:function(e){this.$store.dispatch("UserStore/logout"),this.$store.dispatch("BarberStore/autenticar",e)}}};t["a"]=a},"15eb":function(e,t,o){"use strict";o.r(t);var r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("login-app",{attrs:{alertInfo:e.alertInfo,progressLoader:e.loading,isBarber:!0},on:{login:e.login,loginWithGoogle:e.loginWithGoogle}})},n=[],a=o("be3b"),i=o("09ba"),s=o("83c9"),c=o("5988"),l=o("2ce5"),u={name:"Login",components:{LoginApp:s["a"]},mixins:[i["a"],c["a"],l["a"]],data:function(){return{alertInfo:null,loading:!1}},methods:{login:function(e){var t=this;this.loading=!0,a["a"].post("/auth/barber/login",e).then((function(e){if(t.loading=!1,200===e.data.codigo){var o=e.data.corpo;t.setBarber(o)}else t.setError(e.data.corpo)})).catch((function(e){window.console.log(e),t.setError("Não foi possível realizar login na aplicação!")}))},loginWithGoogle:function(e){var t=this;a["a"].post("/auth/barber/login-google",e).then((function(e){if(200===e.data.codigo){var o=e.data.corpo;t.setBarber(o)}else t.setError(e.data.corpo)})).catch((function(){return t.setError("Não foi possível realizar login na aplicação!")}))},setBarber:function(e){var t=localStorage.routePathAdmin;this.storeBarber(e);var o=this.getBarber();o?o.enabled?t&&t!==this.$route.path?this.goToPath(t):this.goTo("admin"):this.alertInfo="Seu cadastro ainda não foi confirmado!!<br>Verifique sua caixa de e-mail e confirme o seu cadastro.":this.setError("Não foi possível recuperar o token de acesso à aplicação!")},setError:function(e){this.alertInfo=null,this.loading=!1,this.showSnackbarErro(e)}}},d=u,h=o("2877"),p=Object(h["a"])(d,r,n,!1,null,null,null);t["default"]=p.exports},"2c3c":function(e,t,o){"use strict";var r={methods:{focusToNext:function(e){document.querySelector("#".concat(e)).click()}}};t["a"]=r},"39db":function(e,t,o){"use strict";var r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-btn",{staticClass:"font-weight-medium text-none py-3",attrs:{height:"auto",block:e.block,disabled:e.disabled,text:""},on:{click:e.clicked}},[e.icon?o("v-icon",[e._v(" "+e._s(e.icon)+" ")]):e._e(),e._v(" "+e._s(e.text)+" "),e.appendIcon?o("v-icon",[e._v(" "+e._s(e.appendIcon)+" ")]):e._e()],1)},n=[],a={name:"BtnText",props:{block:{default:!0},disabled:{default:!1},text:{required:!0},icon:{default:null},appendIcon:{default:""}},methods:{clicked:function(){this.$emit("clicked")}}},i=a,s=o("2877"),c=o("6544"),l=o.n(c),u=o("8336"),d=o("132d"),h=Object(s["a"])(i,r,n,!1,null,null,null);t["a"]=h.exports;l()(h,{VBtn:u["a"],VIcon:d["a"]})},"6cd4":function(e,t,o){"use strict";o("b0c0");var r=o("2ce5"),n={mixins:[r["a"]],computed:{user:function(){return this.getUser?this.getUser():{id:null,uuid:null,name:null,email:null,enabled:null,phone_number:null,image_url:null,create_at:null}}},methods:{isUserAutenticated:function(){return this.$store.getters["UserStore/tokenValido"]},storeUser:function(e){this.$store.dispatch("BarberStore/logout"),this.$store.dispatch("UserStore/autenticar",e)},getUser:function(){return this.$store.getters["UserStore/user"]},getUserToken:function(){return this.$store.getters["UserStore/payloadToken"]},logoutUser:function(){this.$store.dispatch("UserStore/logout"),localStorage.setItem("routePathSite",""),"home"==this.$route.name?window.location=window.location.origin+"/":this.goTo("home")}}};t["a"]=n},"83c9":function(e,t,o){"use strict";var r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("auth-template",{attrs:{title:"Faça o seu login",alert:e.alertInfo,isBarber:e.isBarber}},[o("form",{on:{submit:function(t){return t.preventDefault(),e.logar(t)}}},[o("div",{staticClass:"form-group"},[o("v-text-field",{attrs:{id:"email",label:"E-mail",rules:e.emailRules,autocomplete:"off",required:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.focusToNext("password")}},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),o("div",{staticClass:"form-group"},[o("v-text-field",{ref:"password",attrs:{type:e.showPassword?"text":"password",label:"Senha","append-icon":e.showPassword?"visibility_off":"remove_red_eye",rules:e.passwordRules,required:""},on:{"click:append":function(t){e.showPassword=!e.showPassword},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.enterClick(t)}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),o("div",{staticClass:"text-center mt-4"},[o("btn-confirm",{staticClass:"btnLogin",attrs:{text:"Logar",disabled:e.btnDisabled,loading:e.progressLoader},on:{clicked:e.login}})],1),o("gbutton",{staticClass:"mt-6 mx-auto",attrs:{params:e.params,renderParams:e.renderParams,onSuccess:e.loginWithGoogle}},[e._v(" Logar com o Google ")]),o("div",{staticClass:"text-center mt-4"},[o("btn-text",{attrs:{text:"Recuperar senha",dark:""},on:{clicked:e.recoveryPassword}}),o("span",{staticClass:"d-block font-weight-light",attrs:{light:""}},[e._v("ou")]),o("btn-secondary",{staticClass:"mt-4",attrs:{text:"Cadastrar-se"},on:{clicked:function(t){return e.register()}}})],1),o("div",{staticClass:"mt-8"},[o("btn-text",{attrs:{text:"Voltar",dark:""},on:{clicked:function(t){return e.goTo("home")}}})],1)],1)])},n=[],a=o("e571"),i=o.n(a),s=o("94bb"),c=o("96f9"),l=o("e7e3"),u=o("39db"),d=o("ef49"),h=o("2c3c"),p=o("2ce5"),f=o("6cd4"),b=o("be1f"),g={name:"Login",components:{AuthTemplate:s["a"],BtnConfirm:c["a"],BtnSecondary:l["a"],BtnText:u["a"],gbutton:i.a},mixins:[d["a"],h["a"],p["a"],f["a"],b["a"]],props:{progressLoader:{default:!1},alertInfo:{default:null},isBarber:{default:!1}},data:function(){return{showPassword:!1,email:"",password:"",params:{client_id:"69364991955-nfb8lar5v22bfikoba0imp8vjmscr23h.apps.googleusercontent.com"},renderParams:{height:45,width:250,theme:"dark"}}},computed:{btnDisabled:function(){return!this.isEmailValid(this.email)||!this.isPasswordValid(this.password)}},mounted:function(){var e=document.querySelector(".btnLogin");this.renderParams.width=e.offsetWidth,document.querySelector("#email").focus()},methods:{loginWithGoogle:function(e){var t=e.getBasicProfile(),o={google_id:t.getId(),name:t.getName(),email:t.getEmail()};this.$emit("loginWithGoogle",o)},enterClick:function(){this.btnAtivo?this.setError("Preencha todos os dados corretamente!"):this.login()},login:function(){var e={email:this.email,password:this.password};this.$emit("login",e)},register:function(){this.isBarber?this.goTo("register-barber"):this.goTo("register")},recoveryPassword:function(){this.isBarber?this.goTo("barber-recovery-password"):this.goTo("recovery-password")}}},m=g,v=o("2877"),B=o("6544"),S=o.n(B),w=o("8654"),_=Object(v["a"])(m,r,n,!1,null,null,null);t["a"]=_.exports;S()(_,{VTextField:w["a"]})},e571:function(e,t,o){!function(e,o){o(t)}(0,(function(e){"use strict";var t,o,r=function(e){return t?Promise.resolve(t):(o||(o=function(e){return new Promise((function(o,r){window.onGapiLoad=function(){window.gapi.load("auth2",(function(){try{t=window.gapi.auth2.init(Object.assign({},e))}catch(e){r({err:"client_id missing or is incorrect, or if you added extra params maybe they are written incorrectly, did you add it to the component or plugin?"})}o(t)}))}}))}(e)),o)},n=function(e,t){return e?e[t]():Promise.reject({err:"Script not loaded correctly, did you added the plugin or the client_id to the component?"})},a={load:function(e){return Promise.all([r(e),new Promise((function(e,t){if(!document.getElementById("auth2_script_id")){var o=document.createElement("script");o.setAttribute("src","https://apis.google.com/js/platform.js?onload=onGapiLoad"),o.setAttribute("async",!0),o.setAttribute("defer","defer"),o.setAttribute("id","auth2_script_id"),document.head.appendChild(o)}e()}))]).then((function(e){return e[0]}))},signIn:function(){return n(t,"signIn")},signOut:function(){return n(t,"signOut")},isSignedIn:function(){return n(t.isSignedIn,"get")},currentUser:function(){return n(t.currentUser,"get")},grantOfflineAccess:function(){return n(t,"grantOfflineAccess")}},i=0,s=function(e,t,o,r,n,a,i,s,c,l){"boolean"!=typeof i&&(c=s,s=i,i=!1);var u,d="function"==typeof o?o.options:o;if(e&&e.render&&(d.render=e.render,d.staticRenderFns=e.staticRenderFns,d._compiled=!0,n&&(d.functional=!0)),r&&(d._scopeId=r),a?(u=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,c(e)),e&&e._registeredComponents&&e._registeredComponents.add(a)},d._ssrRegister=u):t&&(u=i?function(){t.call(this,l(this.$root.$options.shadowRoot))}:function(e){t.call(this,s(e))}),u)if(d.functional){var h=d.render;d.render=function(e,t){return u.call(t),h(e,t)}}else{var p=d.beforeCreate;d.beforeCreate=p?[].concat(p,u):[u]}return o}({render:function(){var e=this.$createElement,t=this._self._c||e;return this.renderParams&&!this.logoutButton?t("div",{attrs:{id:this.id},on:{click:this.handleClick}}):t("button",{attrs:{id:this.id},on:{click:this.handleClick}},[this._t("default")],2)},staticRenderFns:[]},void 0,{name:"GoogleLogin",props:{params:{type:Object,required:!0},onCurrentUser:{type:Function,default:function(){}},onSuccess:{type:Function,default:function(){}},onFailure:{type:Function,default:function(){}},logoutButton:{type:Boolean,default:!1},renderParams:{type:Object,required:!1}},beforeCreate:function(){this.id="google-signin-btn-".concat(i++)},methods:{handleClick:function(){var e=this,t=this.logoutButton?"signOut":"signIn";a[t]().then((function(t){return e.onSuccess(t)})).catch((function(t){return e.onFailure(t)}))}},mounted:function(){var e=this;a.load(this.params).then((function(){e.renderParams&&!1===e.logoutButton&&window.gapi.signin2.render(e.id,e.renderParams),a.isSignedIn()&&e.onCurrentUser(a.currentUser())})).catch((function(e){console.log(e)}))}},void 0,!1,void 0,void 0,void 0),c={install:function(e,t){e.GoogleAuth=a.load(t)}};e.GoogleLogin=s,e.LoaderPlugin=c,e.default=s,Object.defineProperty(e,"__esModule",{value:!0})}))},e7e3:function(e,t,o){"use strict";var r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-btn",{staticClass:"primary text-capitalize font-weight-regular",class:e.cssClass,attrs:{height:"auto",block:e.block,disabled:e.disabled},on:{click:e.clicked}},[e.icon?o("v-icon",{staticClass:"mr-1"},[e._v(" "+e._s(e.icon)+" ")]):e._e(),e._v(" "+e._s(e.text)+" ")],1)},n=[],a={name:"BtnSecondary",props:{block:{default:!0},disabled:{default:!1},text:{default:"Confirmar"},icon:{default:""},cssClass:{default:"py-3"}},methods:{clicked:function(){this.$emit("clicked")}}},i=a,s=o("2877"),c=o("6544"),l=o.n(c),u=o("8336"),d=o("132d"),h=Object(s["a"])(i,r,n,!1,null,null,null);t["a"]=h.exports;l()(h,{VBtn:u["a"],VIcon:d["a"]})},ef49:function(e,t,o){"use strict";var r=o("be3b"),n={computed:{barbershop:{set:function(){},get:function(){return this.$store.getters["BarbershopStore/barbershop"]}}},methods:{storeBarbershop:function(e){this.$store.dispatch("BarbershopStore/store",e)},getBarbershop:function(){return this.$store.getters["BarbershopStore/barbershop"]},getBarbershopByIdOnService:function(e){var t=this;r["a"].get("/barbershop/".concat(e)).then((function(e){200===e.data.codigo?t.onGetBarbershopByIdOnServiceSuccess(e.data.corpo):t.onGetBarbershopByIdOnServiceError(e.data.corpo)})).catch((function(e){t.onGetBarbershopByIdOnServiceError("Não foi possível recuperar os dados da barbearia!"),window.console.log(e)}))},onGetBarbershopByIdOnServiceSuccess:function(e){window.console.log("onGetBarbershopByIdOnServiceSuccess: "+e)},onGetBarbershopByIdOnServiceError:function(e){window.console.log("onGetBarbershopByIdOnServiceError: "+e)},getBarbershopAllOnService:function(){var e=this;r["a"].get("/barbershop").then((function(t){200===t.data.codigo?e.onGetBarbershopAllOnServiceSuccess(t.data.corpo):e.onGetBarbershopAllOnServiceError(t.data.corpo)})).catch((function(t){e.onGetBarbershopAllOnServiceError("Não foi possível recuperar os dados da barbearia!"),window.console.log(t)}))},onGetBarbershopAllOnServiceSuccess:function(e){window.console.log("onGetBarbershopAllOnServiceSuccess: "+e)},onGetBarbershopAllOnServiceError:function(e){window.console.log("onGetBarbershopAllOnServiceError: "+e)},updateBarbershopOnService:function(e,t){var o=this,n="barbershop/".concat(t);r["a"].put(n,e).then((function(e){200===e.data.codigo?o.onUpdateBarbershopOnServiceSuccess(e.data.corpo):o.onUpdateBarbershopOnServiceError(e.data.corpo)})).catch((function(e){window.console.log(e),o.onUpdateBarbershopOnServiceError("Não foi possível atualizar os dados da barbearia!")}))},onUpdateBarbershopOnServiceSuccess:function(e){window.console.log("onUpdateBarbershopOnServiceSuccess: "+e)},onUpdateBarbershopOnServiceError:function(e){window.console.log("onUpdateBarbershopOnServiceError: "+e)}}};t["a"]=n}}]);
//# sourceMappingURL=chunk-66f4e71c.427691a9.js.map