(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-770aec62"],{"09ba":function(o,r,e){"use strict";var t=e("be3b"),a=e("2ce5"),n={mixins:[a["a"]],computed:{barber:function(){return this.$store.getters["BarberStore/barber"]}},methods:{getBarber:function(){return this.$store.getters["BarberStore/barber"]},getBarberByBarbershopIdOnService:function(o){var r=this;t["a"].get("/barbershop/".concat(o,"/barber")).then((function(o){200===o.data.codigo?r.onGetBarberByBarbershopIdOnServiceSuccess(o.data.corpo):r.onGetBarberByBarbershopIdOnServiceError(o.data.corpo)})).catch((function(o){r.onGetBarberByBarbershopIdOnServiceError("Não foi possível recuperar os dados da barbearia!"),window.console.log(o)}))},onGetBarberByBarbershopIdOnServiceError:function(o){window.console.log(o)},onGetBarberByBarbershopIdOnServiceSuccess:function(o){window.console.log(JSON.stringify(o))},getToken:function(){return this.$store.getters["BarberStore/payloadToken"]},isAutenticated:function(){return this.$store.getters["BarberStore/tokenValido"]},logout:function(){this.$store.dispatch("BarberStore/logout"),this.$store.dispatch("BarbershopStore/logout"),localStorage.routePathAdmin="",this.goTo("login-barber")},storeBarber:function(o){this.$store.dispatch("UserStore/logout"),this.$store.dispatch("BarberStore/autenticar",o)}}};r["a"]=n},"15eb":function(o,r,e){"use strict";e.r(r);var t=function(){var o=this,r=o.$createElement,e=o._self._c||r;return e("login-app",{attrs:{alertInfo:o.alertInfo,progressLoader:o.loading,isBarber:!0},on:{login:o.login,loginWithGoogle:o.loginWithGoogle}})},a=[],n=e("be3b"),i=e("09ba"),s=e("83c9"),c=e("5988"),l=e("2ce5"),u={name:"Login",components:{LoginApp:s["a"]},mixins:[i["a"],c["a"],l["a"]],data:function(){return{alertInfo:null,loading:!1}},methods:{login:function(o){var r=this;this.loading=!0,n["a"].post("/auth/barber/login",o).then((function(o){if(r.loading=!1,200===o.data.codigo){var e=o.data.corpo;r.setBarber(e)}else r.setError(o.data.corpo)})).catch((function(o){window.console.log(o),r.setError("Não foi possível realizar login na aplicação!")}))},loginWithGoogle:function(o){var r=this;n["a"].post("/auth/barber/login-google",o).then((function(o){if(200===o.data.codigo){var e=o.data.corpo;r.setBarber(e)}else r.setError(o.data.corpo)})).catch((function(){return r.setError("Não foi possível realizar login na aplicação!")}))},setBarber:function(o){var r=localStorage.routePathAdmin;this.storeBarber(o);var e=this.getBarber();e?e.enabled?r&&r!==this.$route.path?(localStorage.removeItem("routePathSite"),this.goToPath(r)):this.goTo("admin"):this.alertInfo="Seu cadastro ainda não foi confirmado!!<br>Verifique sua caixa de e-mail e confirme o seu cadastro.":this.setError("Não foi possível recuperar o token de acesso à aplicação!")},setError:function(o){this.alertInfo=null,this.loading=!1,this.showSnackbarErro(o)}}},b=u,h=e("2877"),d=Object(h["a"])(b,t,a,!1,null,null,null);r["default"]=d.exports}}]);
//# sourceMappingURL=chunk-770aec62.33e89446.js.map