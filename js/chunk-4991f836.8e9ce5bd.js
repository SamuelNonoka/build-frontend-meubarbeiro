(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4991f836"],{"09ba":function(e,t,r){"use strict";var o=r("be3b"),n=r("2ce5"),i={mixins:[n["a"]],data:function(){return{barber:{id:null,barbershop_id:null,uuid:null,name:null,email:null,cpf:null,code:null,enabled:null,plan_id:null,plan_old_id:null,plan_due_date:null,plan_old_due_date:null,profile:null,phone:null,image_url:null,instagram_url:null,facebook_url:null,create_at:null,updated_at:null,deleted_at:null}}},mounted:function(){this.barber=this.getBarber()},methods:{getBarber:function(){return this.$store.getters["BarberStore/barber"]},getBarberByBarbershopIdOnService:function(e){var t=this;o["a"].get("/barbershop/".concat(e,"/barber")).then((function(e){200===e.data.codigo?t.onGetBarberByBarbershopIdOnServiceSuccess(e.data.corpo):t.onGetBarberByBarbershopIdOnServiceError(e.data.corpo)})).catch((function(e){t.onGetBarberByBarbershopIdOnServiceError("Não foi possível recuperar os dados da barbearia!"),window.console.log(e)}))},onGetBarberByBarbershopIdOnServiceError:function(e){window.console.log(e)},onGetBarberByBarbershopIdOnServiceSuccess:function(e){window.console.log(JSON.stringify(e))},getToken:function(){return this.$store.getters["BarberStore/payloadToken"]},isAutenticated:function(){return this.$store.getters["BarberStore/tokenValido"]},logout:function(){this.$store.dispatch("BarberStore/logout"),localStorage.routePathAdmin="",this.goTo("login")},storeBarber:function(e){this.$store.dispatch("UserStore/logout"),this.$store.dispatch("BarberStore/autenticar",e)}}};t["a"]=i},"2c3c":function(e,t,r){"use strict";var o={methods:{focusToNext:function(e){document.querySelector("#".concat(e)).click()}}};t["a"]=o},"39db":function(e,t,r){"use strict";var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-btn",{staticClass:"font-weight-medium text-none py-3",attrs:{height:"auto",block:e.block,disabled:e.disabled,text:""},on:{click:e.clicked}},[e._v(" "+e._s(e.text)+" "),e.appendIcon?r("v-icon",[e._v(" "+e._s(e.appendIcon)+" ")]):e._e()],1)},n=[],i={name:"BtnText",props:{block:{default:!0},disabled:{default:!1},text:{required:!0},appendIcon:{default:""}},methods:{clicked:function(){this.$emit("clicked")}}},a=i,s=r("2877"),c=r("6544"),l=r.n(c),u=r("8336"),h=r("132d"),d=Object(s["a"])(a,o,n,!1,null,null,null);t["a"]=d.exports;l()(d,{VBtn:u["a"],VIcon:h["a"]})},"6cd4":function(e,t,r){"use strict";r("b0c0");var o=r("2ce5"),n={mixins:[o["a"]],computed:{user:function(){return this.getUser?this.getUser():{id:null,uuid:null,name:null,email:null,enabled:null,phone_number:null,image_url:null,create_at:null}}},methods:{isUserAutenticated:function(){return this.$store.getters["UserStore/tokenValido"]},storeUser:function(e){this.$store.dispatch("BarberStore/logout"),this.$store.dispatch("UserStore/autenticar",e)},getUser:function(){return this.$store.getters["UserStore/user"]},getUserToken:function(){return this.$store.getters["UserStore/payloadToken"]},logoutUser:function(){this.$store.dispatch("UserStore/logout"),localStorage.setItem("routePathSite",""),"home"==this.$route.name?window.location=window.location.origin+"/":this.goTo("home")}}};t["a"]=n},8547:function(e,t,r){"use strict";var o=r("2b0e"),n=r("80d2");t["a"]=o["a"].extend({name:"comparable",props:{valueComparator:{type:Function,default:n["i"]}}})},"9d01":function(e,t,r){},b2c5:function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("template-auth",{attrs:{titulo:"Faça o seu login",progressLoader:e.progressLoader,alert:e.alertInfo}},[r("form",{on:{submit:function(t){return t.preventDefault(),e.logar(t)}}},[r("div",{staticClass:"form-group"},[r("v-text-field",{attrs:{id:"email",label:"E-mail",rules:e.emailRules,autocomplete:"off",required:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.focusToNext("password")}},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),r("div",{staticClass:"form-group"},[r("v-text-field",{ref:"password",attrs:{type:e.showPassword?"text":"password",label:"Senha","append-icon":e.showPassword?"visibility_off":"remove_red_eye",rules:e.passwordRules,required:""},on:{"click:append":function(t){e.showPassword=!e.showPassword},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.enterClick(t)}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),r("div",{staticClass:"form-group"},[r("v-switch",{attrs:{label:"barbeiro?",color:"secondary"},model:{value:e.isBarber,callback:function(t){e.isBarber=t},expression:"isBarber"}})],1),r("div",{staticClass:"text-center mt-4"},[r("btn-confirm",{attrs:{text:"Logar",disabled:e.btnDisabled},on:{clicked:e.login}})],1),r("div",{staticClass:"text-center mt-4"},[r("btn-text",{attrs:{text:"Recuperar senha",dark:""},on:{clicked:function(t){return e.goTo("recovery-password")}}}),r("span",{staticClass:"d-block font-weight-light",attrs:{light:""}},[e._v("ou")]),r("btn-secondary",{staticClass:"mt-4",attrs:{text:"Cadastrar-se"},on:{clicked:function(t){return e.goTo("register")}}})],1)])])},n=[],i=r("be3b"),a=r("96f9"),s=r("e7e3"),c=r("39db"),l=r("4f01"),u=r("09ba"),h=r("ef49"),d=r("2c3c"),p=r("2ce5"),f=r("5988"),b=r("6cd4"),v=r("be1f"),g={name:"Login",components:{BtnConfirm:a["a"],BtnSecondary:s["a"],BtnText:c["a"],TemplateAuth:l["a"]},mixins:[u["a"],h["a"],d["a"],p["a"],f["a"],b["a"],v["a"]],data:function(){return{alertInfo:null,showPassword:!1,email:"",isBarber:!1,password:"",progressLoader:!1}},computed:{btnDisabled:function(){return!this.isEmailValid(this.email)||!this.isPasswordValid(this.password)}},mounted:function(){document.querySelector("#email").focus()},methods:{enterClick:function(){this.btnAtivo?this.setError("Preencha todos os dados corretamente!"):this.login()},login:function(){var e=this;this.progressLoader=!0;var t=this.isBarber?"/auth/barber/login":"/auth/user/login";i["a"].post(t,{email:this.email,password:this.password}).then((function(t){if(e.progressLoader=!1,200===t.data.codigo){var r=t.data.corpo;e.isBarber?e.setBarber(r):e.setUser(r)}else e.setError(t.data.corpo)})).catch((function(t){window.console.log(t),e.setError("Não foi possível realizar login na aplicação!")}))},setBarber:function(e){var t=localStorage.routePathAdmin;this.storeBarber(e);var r=this.getBarber();r?r.enabled?t&&t!==this.$route.path?this.goToPath(t):this.goTo("admin"):this.alertInfo="Seu cadastro ainda não foi confirmado!!<br>Verifique sua caixa de e-mail e confirme o seu cadastro.":this.setError("Não foi possível recuperar o token de acesso à aplicação!")},setError:function(e){this.alertInfo=null,this.progressLoader=!1,this.showSnackbarErro(e)},setUser:function(e){var t=localStorage.routePathSite;this.storeUser(e);var r=this.getUser();r?r.enabled?t&&t!==this.$route.path?this.goToPath(t):this.goTo("home"):this.alertInfo="Seu cadastro ainda não foi confirmado!!<br>Verifique sua caixa de e-mail e confirme o seu cadastro.":this.setError("Não foi possível recuperar o token de acesso à aplicação!")}}},m=g,w=r("2877"),S=r("6544"),B=r.n(S),y=r("b73d"),O=r("8654"),k=Object(w["a"])(m,o,n,!1,null,null,null);t["default"]=k.exports;B()(k,{VSwitch:y["a"],VTextField:O["a"]})},b73d:function(e,t,r){"use strict";r("a4d3"),r("4de4"),r("0481"),r("4160"),r("4069"),r("e439"),r("dbb4"),r("b64b"),r("159b");var o=r("2fa7"),n=(r("ec29"),r("9d01"),r("fe09")),i=r("c37a"),a=r("c3f0"),s=r("0789"),c=r("490a"),l=r("80d2");function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(r,!0).forEach((function(t){Object(o["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t["a"]=n["a"].extend({name:"v-switch",directives:{Touch:a["a"]},props:{inset:Boolean,loading:{type:[Boolean,String],default:!1},flat:{type:Boolean,default:!1}},computed:{classes:function(){return h({},i["a"].options.computed.classes.call(this),{"v-input--selection-controls v-input--switch":!0,"v-input--switch--flat":this.flat,"v-input--switch--inset":this.inset})},attrs:function(){return{"aria-checked":String(this.isActive),"aria-disabled":String(this.disabled),role:"switch"}},validationState:function(){return this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":null!==this.hasColor?this.computedColor:void 0},switchData:function(){return this.setTextColor(this.loading?void 0:this.validationState,{class:this.themeClasses})}},methods:{genDefaultSlot:function(){return[this.genSwitch(),this.genLabel()]},genSwitch:function(){return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.genInput("checkbox",h({},this.attrs,{},this.attrs$)),this.genRipple(this.setTextColor(this.validationState,{directives:[{name:"touch",value:{left:this.onSwipeLeft,right:this.onSwipeRight}}]})),this.$createElement("div",h({staticClass:"v-input--switch__track"},this.switchData)),this.$createElement("div",h({staticClass:"v-input--switch__thumb"},this.switchData),[this.genProgress()])])},genProgress:function(){return this.$createElement(s["c"],{},[!1===this.loading?null:this.$slots.progress||this.$createElement(c["a"],{props:{color:!0===this.loading||""===this.loading?this.color||"primary":this.loading,size:16,width:2,indeterminate:!0}})])},onSwipeLeft:function(){this.isActive&&this.onChange()},onSwipeRight:function(){this.isActive||this.onChange()},onKeydown:function(e){(e.keyCode===l["r"].left&&this.isActive||e.keyCode===l["r"].right&&!this.isActive)&&this.onChange()}}})},c3f0:function(e,t,r){"use strict";r("4160"),r("159b");var o=r("80d2"),n=function(e){var t=e.touchstartX,r=e.touchendX,o=e.touchstartY,n=e.touchendY,i=.5,a=16;e.offsetX=r-t,e.offsetY=n-o,Math.abs(e.offsetY)<i*Math.abs(e.offsetX)&&(e.left&&r<t-a&&e.left(e),e.right&&r>t+a&&e.right(e)),Math.abs(e.offsetX)<i*Math.abs(e.offsetY)&&(e.up&&n<o-a&&e.up(e),e.down&&n>o+a&&e.down(e))};function i(e,t){var r=e.changedTouches[0];t.touchstartX=r.clientX,t.touchstartY=r.clientY,t.start&&t.start(Object.assign(e,t))}function a(e,t){var r=e.changedTouches[0];t.touchendX=r.clientX,t.touchendY=r.clientY,t.end&&t.end(Object.assign(e,t)),n(t)}function s(e,t){var r=e.changedTouches[0];t.touchmoveX=r.clientX,t.touchmoveY=r.clientY,t.move&&t.move(Object.assign(e,t))}function c(e){var t={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:e.left,right:e.right,up:e.up,down:e.down,start:e.start,move:e.move,end:e.end};return{touchstart:function(e){return i(e,t)},touchend:function(e){return a(e,t)},touchmove:function(e){return s(e,t)}}}function l(e,t,r){var n=t.value,i=n.parent?e.parentElement:e,a=n.options||{passive:!0};if(i){var s=c(t.value);i._touchHandlers=Object(i._touchHandlers),i._touchHandlers[r.context._uid]=s,Object(o["s"])(s).forEach((function(e){i.addEventListener(e,s[e],a)}))}}function u(e,t,r){var n=t.value.parent?e.parentElement:e;if(n&&n._touchHandlers){var i=n._touchHandlers[r.context._uid];Object(o["s"])(i).forEach((function(e){n.removeEventListener(e,i[e])})),delete n._touchHandlers[r.context._uid]}}var h={inserted:l,unbind:u};t["a"]=h},ec29:function(e,t,r){},ef49:function(e,t,r){"use strict";var o=r("be3b"),n={computed:{barbershop:{set:function(){},get:function(){return this.$store.getters["BarbershopStore/barbershop"]}}},methods:{storeBarbershop:function(e){this.$store.dispatch("BarbershopStore/store",e)},getBarbershop:function(){return this.$store.getters["BarbershopStore/barbershop"]},getBarbershopByIdOnService:function(e){var t=this;o["a"].get("/barbershop/".concat(e)).then((function(e){200===e.data.codigo?t.onGetBarbershopByIdOnServiceSuccess(e.data.corpo):t.onGetBarbershopByIdOnServiceError(e.data.corpo)})).catch((function(e){t.onGetBarbershopByIdOnServiceError("Não foi possível recuperar os dados da barbearia!"),window.console.log(e)}))},onGetBarbershopByIdOnServiceSuccess:function(e){window.console.log("onGetBarbershopByIdOnServiceSuccess: "+e)},onGetBarbershopByIdOnServiceError:function(e){window.console.log("onGetBarbershopByIdOnServiceError: "+e)},getBarbershopAllOnService:function(){var e=this;o["a"].get("/barbershop").then((function(t){200===t.data.codigo?e.onGetBarbershopAllOnServiceSuccess(t.data.corpo):e.onGetBarbershopAllOnServiceError(t.data.corpo)})).catch((function(t){e.onGetBarbershopAllOnServiceError("Não foi possível recuperar os dados da barbearia!"),window.console.log(t)}))},onGetBarbershopAllOnServiceSuccess:function(e){window.console.log("onGetBarbershopAllOnServiceSuccess: "+e)},onGetBarbershopAllOnServiceError:function(e){window.console.log("onGetBarbershopAllOnServiceError: "+e)},updateBarbershopOnService:function(e,t){var r=this,n="barbershop/".concat(t);o["a"].put(n,e).then((function(e){200===e.data.codigo?r.onUpdateBarbershopOnServiceSuccess(e.data.corpo):r.onUpdateBarbershopOnServiceError(e.data.corpo)})).catch((function(e){window.console.log(e),r.onUpdateBarbershopOnServiceError("Não foi possível atualizar os dados da barbearia!")}))},onUpdateBarbershopOnServiceSuccess:function(e){window.console.log("onUpdateBarbershopOnServiceSuccess: "+e)},onUpdateBarbershopOnServiceError:function(e){window.console.log("onUpdateBarbershopOnServiceError: "+e)}}};t["a"]=n},fe09:function(e,t,r){"use strict";r("4de4"),r("45fc"),r("0d03"),r("d3b7"),r("25f0");var o=r("c37a"),n=r("5607"),i=r("2b0e"),a=i["a"].extend({name:"rippleable",directives:{ripple:n["a"]},props:{ripple:{type:[Boolean,Object],default:!0}},methods:{genRipple:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.ripple?(e.staticClass="v-input--selection-controls__ripple",e.directives=e.directives||[],e.directives.push({name:"ripple",value:{center:!0}}),e.on=Object.assign({click:this.onChange},this.$listeners),this.$createElement("div",e)):null},onChange:function(){}}}),s=r("8547"),c=r("58df");t["a"]=Object(c["a"])(o["a"],a,s["a"]).extend({name:"selectable",model:{prop:"inputValue",event:"change"},props:{id:String,inputValue:null,falseValue:null,trueValue:null,multiple:{type:Boolean,default:null},label:String},data:function(){return{hasColor:this.inputValue,lazyValue:this.inputValue}},computed:{computedColor:function(){if(this.isActive)return this.color?this.color:this.isDark&&!this.appIsDark?"white":"primary"},isMultiple:function(){return!0===this.multiple||null===this.multiple&&Array.isArray(this.internalValue)},isActive:function(){var e=this,t=this.value,r=this.internalValue;return this.isMultiple?!!Array.isArray(r)&&r.some((function(r){return e.valueComparator(r,t)})):void 0===this.trueValue||void 0===this.falseValue?t?this.valueComparator(t,r):Boolean(r):this.valueComparator(r,this.trueValue)},isDirty:function(){return this.isActive},rippleState:function(){return this.disabled||this.validationState?this.validationState:"primary"}},watch:{inputValue:function(e){this.lazyValue=e,this.hasColor=e}},methods:{genLabel:function(){var e=this,t=o["a"].options.methods.genLabel.call(this);return t?(t.data.on={click:function(t){t.preventDefault(),e.onChange()}},t):t},genInput:function(e,t){return this.$createElement("input",{attrs:Object.assign({"aria-checked":this.isActive.toString(),disabled:this.isDisabled,id:this.computedId,role:e,type:e},t),domProps:{value:this.value,checked:this.isActive},on:{blur:this.onBlur,change:this.onChange,focus:this.onFocus,keydown:this.onKeydown},ref:"input"})},onBlur:function(){this.isFocused=!1},onChange:function(){var e=this;if(!this.isDisabled){var t=this.value,r=this.internalValue;if(this.isMultiple){Array.isArray(r)||(r=[]);var o=r.length;r=r.filter((function(r){return!e.valueComparator(r,t)})),r.length===o&&r.push(t)}else r=void 0!==this.trueValue&&void 0!==this.falseValue?this.valueComparator(r,this.trueValue)?this.falseValue:this.trueValue:t?this.valueComparator(r,t)?null:t:!r;this.validate(!0,r),this.internalValue=r,this.hasColor=r}},onFocus:function(){this.isFocused=!0},onKeydown:function(e){}}})}}]);
//# sourceMappingURL=chunk-4991f836.8e9ce5bd.js.map