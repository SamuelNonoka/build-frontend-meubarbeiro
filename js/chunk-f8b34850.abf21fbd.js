(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f8b34850"],{"2c3c":function(e,o,t){"use strict";var r={methods:{focusToNext:function(e){document.querySelector("#".concat(e)).click()}}};o["a"]=r},"39db":function(e,o,t){"use strict";var r=function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("v-btn",{staticClass:"font-weight-medium text-none py-3",attrs:{height:"auto",block:e.block,disabled:e.disabled,text:""},on:{click:e.clicked}},[e.icon?t("v-icon",[e._v(" "+e._s(e.icon)+" ")]):e._e(),e._v(" "+e._s(e.text)+" "),e.appendIcon?t("v-icon",[e._v(" "+e._s(e.appendIcon)+" ")]):e._e()],1)},n=[],s={name:"BtnText",props:{block:{default:!0},disabled:{default:!1},text:{required:!0},icon:{default:null},appendIcon:{default:""}},methods:{clicked:function(){this.$emit("clicked")}}},a=s,i=t("2877"),c=t("6544"),l=t.n(c),u=t("8336"),d=t("132d"),p=Object(i["a"])(a,r,n,!1,null,null,null);o["a"]=p.exports;l()(p,{VBtn:u["a"],VIcon:d["a"]})},6758:function(e,o,t){"use strict";t.r(o);var r=function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("login-app",{attrs:{alertInfo:e.alertInfo,progressLoader:e.loading},on:{login:e.login}})},n=[],s=t("be3b"),a=t("6cd4"),i=t("83c9"),c=t("5988"),l={name:"Login",components:{LoginApp:i["a"]},mixins:[a["a"],c["a"]],data:function(){return{alertInfo:null,loading:!1}},methods:{login:function(e){var o=this;this.loading=!0,s["a"].post("/auth/user/login",e).then((function(e){if(o.loading=!1,200===e.data.codigo){var t=e.data.corpo;o.setUser(t)}else o.setError(e.data.corpo)})).catch((function(e){window.console.log(e),o.setError("Não foi possível realizar login na aplicação!")}))},setError:function(e){this.alertInfo=null,this.loading=!1,this.showSnackbarErro(e)},setUser:function(e){var o=localStorage.routePathSite;this.storeUser(e);var t=this.getUser();t?t.enabled?o&&o!==this.$route.path?this.goToPath(o):this.goTo("home"):this.alertInfo="Seu cadastro ainda não foi confirmado!!<br>Verifique sua caixa de e-mail e confirme o seu cadastro.":this.setError("Não foi possível recuperar o token de acesso à aplicação!")}}},u=l,d=t("2877"),p=Object(d["a"])(u,r,n,!1,null,null,null);o["default"]=p.exports},"6cd4":function(e,o,t){"use strict";t("b0c0");var r=t("2ce5"),n={mixins:[r["a"]],computed:{user:function(){return this.getUser?this.getUser():{id:null,uuid:null,name:null,email:null,enabled:null,phone_number:null,image_url:null,create_at:null}}},methods:{isUserAutenticated:function(){return this.$store.getters["UserStore/tokenValido"]},storeUser:function(e){this.$store.dispatch("BarberStore/logout"),this.$store.dispatch("UserStore/autenticar",e)},getUser:function(){return this.$store.getters["UserStore/user"]},getUserToken:function(){return this.$store.getters["UserStore/payloadToken"]},logoutUser:function(){this.$store.dispatch("UserStore/logout"),localStorage.setItem("routePathSite",""),"home"==this.$route.name?window.location=window.location.origin+"/":this.goTo("home")}}};o["a"]=n},"83c9":function(e,o,t){"use strict";var r=function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("template-auth",{attrs:{titulo:"Faça o seu login",progressLoader:e.progressLoader,alert:e.alertInfo,isBarber:e.isBarber}},[t("form",{on:{submit:function(o){return o.preventDefault(),e.logar(o)}}},[t("div",{staticClass:"form-group"},[t("v-text-field",{attrs:{id:"email",label:"E-mail",rules:e.emailRules,autocomplete:"off",required:""},on:{keyup:function(o){return!o.type.indexOf("key")&&e._k(o.keyCode,"enter",13,o.key,"Enter")?null:e.focusToNext("password")}},model:{value:e.email,callback:function(o){e.email=o},expression:"email"}})],1),t("div",{staticClass:"form-group"},[t("v-text-field",{ref:"password",attrs:{type:e.showPassword?"text":"password",label:"Senha","append-icon":e.showPassword?"visibility_off":"remove_red_eye",rules:e.passwordRules,required:""},on:{"click:append":function(o){e.showPassword=!e.showPassword},keyup:function(o){return!o.type.indexOf("key")&&e._k(o.keyCode,"enter",13,o.key,"Enter")?null:e.enterClick(o)}},model:{value:e.password,callback:function(o){e.password=o},expression:"password"}})],1),t("div",{staticClass:"text-center mt-4"},[t("btn-confirm",{attrs:{text:"Logar",disabled:e.btnDisabled},on:{clicked:e.login}})],1),t("div",{staticClass:"text-center mt-4"},[t("btn-text",{attrs:{text:"Recuperar senha",dark:""},on:{clicked:e.recoveryPassword}}),t("span",{staticClass:"d-block font-weight-light",attrs:{light:""}},[e._v("ou")]),t("btn-secondary",{staticClass:"mt-4",attrs:{text:"Cadastrar-se"},on:{clicked:function(o){return e.register()}}})],1),t("div",{staticClass:"mt-8"},[t("btn-text",{attrs:{text:"Voltar",icon:"chevron_left",dark:""},on:{clicked:function(o){return e.goTo("home")}}})],1)])])},n=[],s=t("96f9"),a=t("e7e3"),i=t("39db"),c=t("4f01"),l=t("ef49"),u=t("2c3c"),d=t("2ce5"),p=t("6cd4"),h=t("be1f"),f={name:"Login",components:{BtnConfirm:s["a"],BtnSecondary:a["a"],BtnText:i["a"],TemplateAuth:c["a"]},mixins:[l["a"],u["a"],d["a"],p["a"],h["a"]],props:{progressLoader:{default:!1},alertInfo:{default:null},isBarber:{default:!1}},data:function(){return{showPassword:!1,email:"",password:""}},computed:{btnDisabled:function(){return!this.isEmailValid(this.email)||!this.isPasswordValid(this.password)}},mounted:function(){document.querySelector("#email").focus()},methods:{enterClick:function(){this.btnAtivo?this.setError("Preencha todos os dados corretamente!"):this.login()},login:function(){var e={email:this.email,password:this.password};this.$emit("login",e)},register:function(){this.isBarber?this.goTo("register-barber"):this.goTo("register")},recoveryPassword:function(){this.isBarber?this.goTo("barber-recovery-password"):this.goTo("recovery-password")}}},b=f,g=t("2877"),v=t("6544"),m=t.n(v),w=t("8654"),S=Object(g["a"])(b,r,n,!1,null,null,null);o["a"]=S.exports;m()(S,{VTextField:w["a"]})},ef49:function(e,o,t){"use strict";var r=t("be3b"),n={computed:{barbershop:{set:function(){},get:function(){return this.$store.getters["BarbershopStore/barbershop"]}}},methods:{storeBarbershop:function(e){this.$store.dispatch("BarbershopStore/store",e)},getBarbershop:function(){return this.$store.getters["BarbershopStore/barbershop"]},getBarbershopByIdOnService:function(e){var o=this;r["a"].get("/barbershop/".concat(e)).then((function(e){200===e.data.codigo?o.onGetBarbershopByIdOnServiceSuccess(e.data.corpo):o.onGetBarbershopByIdOnServiceError(e.data.corpo)})).catch((function(e){o.onGetBarbershopByIdOnServiceError("Não foi possível recuperar os dados da barbearia!"),window.console.log(e)}))},onGetBarbershopByIdOnServiceSuccess:function(e){window.console.log("onGetBarbershopByIdOnServiceSuccess: "+e)},onGetBarbershopByIdOnServiceError:function(e){window.console.log("onGetBarbershopByIdOnServiceError: "+e)},getBarbershopAllOnService:function(){var e=this;r["a"].get("/barbershop").then((function(o){200===o.data.codigo?e.onGetBarbershopAllOnServiceSuccess(o.data.corpo):e.onGetBarbershopAllOnServiceError(o.data.corpo)})).catch((function(o){e.onGetBarbershopAllOnServiceError("Não foi possível recuperar os dados da barbearia!"),window.console.log(o)}))},onGetBarbershopAllOnServiceSuccess:function(e){window.console.log("onGetBarbershopAllOnServiceSuccess: "+e)},onGetBarbershopAllOnServiceError:function(e){window.console.log("onGetBarbershopAllOnServiceError: "+e)},updateBarbershopOnService:function(e,o){var t=this,n="barbershop/".concat(o);r["a"].put(n,e).then((function(e){200===e.data.codigo?t.onUpdateBarbershopOnServiceSuccess(e.data.corpo):t.onUpdateBarbershopOnServiceError(e.data.corpo)})).catch((function(e){window.console.log(e),t.onUpdateBarbershopOnServiceError("Não foi possível atualizar os dados da barbearia!")}))},onUpdateBarbershopOnServiceSuccess:function(e){window.console.log("onUpdateBarbershopOnServiceSuccess: "+e)},onUpdateBarbershopOnServiceError:function(e){window.console.log("onUpdateBarbershopOnServiceError: "+e)}}};o["a"]=n}}]);
//# sourceMappingURL=chunk-f8b34850.abf21fbd.js.map