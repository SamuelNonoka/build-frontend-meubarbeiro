(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0f2b09be"],{"2c3c":function(e,t,n){"use strict";var o={methods:{focusToNext:function(e){document.querySelector("#".concat(e)).click()}}};t["a"]=o},"39db":function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-btn",{staticClass:"font-weight-medium text-none py-3",attrs:{height:"auto",block:e.block,disabled:e.disabled,text:""},on:{click:e.clicked}},[e.icon?n("v-icon",[e._v(" "+e._s(e.icon)+" ")]):e._e(),e._v(" "+e._s(e.text)+" "),e.appendIcon?n("v-icon",[e._v(" "+e._s(e.appendIcon)+" ")]):e._e()],1)},r=[],i={name:"BtnText",props:{block:{default:!0},disabled:{default:!1},text:{required:!0},icon:{default:null},appendIcon:{default:""}},methods:{clicked:function(){this.$emit("clicked")}}},a=i,s=n("2877"),c=n("6544"),d=n.n(c),l=n("8336"),u=n("132d"),f=Object(s["a"])(a,o,r,!1,null,null,null);t["a"]=f.exports;d()(f,{VBtn:l["a"],VIcon:u["a"]})},"96c1":function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("register-app",{attrs:{alertInfo:e.alertInfo,isBarber:!0,token:e.token,progressLoader:e.loading},on:{register:e.register,registerWithGoogle:e.registerWithGoogle}})},r=[],i=(n("ac1f"),n("5319"),n("be3b")),a=n("f102"),s=n("5988"),c=n("2ce5"),d={name:"Register",components:{RegisterApp:a["a"]},mixins:[s["a"],c["a"]],data:function(){return{alertInfo:null,loading:!1,token:null}},mounted:function(){var e=this.$route.query.token||null;this.token=e.replace(/ /g,"+"),window.console.log(this.token)},methods:{register:function(e){var t=this;e.token=this.token,this.loading=!0,i["a"].post("/auth/barber/register",e).then((function(e){t.loading=!1,200===e.data.codigo?t.alertInfo="Obrigado por ter se cadastrado!<br>Verifique sua caixa de e-mail e confirme o seu cadastro.":t.showSnackbarErro(e.data.corpo)})).catch((function(){t.loading=!1,t.showSnackbarErro("Não foi possível realizar seu cadastro!")}))},registerWithGoogle:function(e){var t=this;i["a"].post("/auth/barber/register-google",e).then((function(e){200===e.data.codigo?(t.showSnackbar("Cadastro realizado com sucesso!"),t.goTo("login-barber")):t.showSnackbarErro(e.data.corpo)})).catch((function(e){t.showSnackbarErro("Não foi possível realizar seu cadastro!"),window.console.error(e)}))}}},l=d,u=n("2877"),f=Object(u["a"])(l,o,r,!1,null,null,null);t["default"]=f.exports},e571:function(e,t,n){!function(e,n){n(t)}(0,(function(e){"use strict";var t,n,o=function(e){return t?Promise.resolve(t):(n||(n=function(e){return new Promise((function(n,o){window.onGapiLoad=function(){window.gapi.load("auth2",(function(){try{t=window.gapi.auth2.init(Object.assign({},e))}catch(e){o({err:"client_id missing or is incorrect, or if you added extra params maybe they are written incorrectly, did you add it to the component or plugin?"})}n(t)}))}}))}(e)),n)},r=function(e,t){return e?e[t]():Promise.reject({err:"Script not loaded correctly, did you added the plugin or the client_id to the component?"})},i={load:function(e){return Promise.all([o(e),new Promise((function(e,t){if(!document.getElementById("auth2_script_id")){var n=document.createElement("script");n.setAttribute("src","https://apis.google.com/js/platform.js?onload=onGapiLoad"),n.setAttribute("async",!0),n.setAttribute("defer","defer"),n.setAttribute("id","auth2_script_id"),document.head.appendChild(n)}e()}))]).then((function(e){return e[0]}))},signIn:function(){return r(t,"signIn")},signOut:function(){return r(t,"signOut")},isSignedIn:function(){return r(t.isSignedIn,"get")},currentUser:function(){return r(t.currentUser,"get")},grantOfflineAccess:function(){return r(t,"grantOfflineAccess")}},a=0,s=function(e,t,n,o,r,i,a,s,c,d){"boolean"!=typeof a&&(c=s,s=a,a=!1);var l,u="function"==typeof n?n.options:n;if(e&&e.render&&(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,r&&(u.functional=!0)),o&&(u._scopeId=o),i?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,c(e)),e&&e._registeredComponents&&e._registeredComponents.add(i)},u._ssrRegister=l):t&&(l=a?function(){t.call(this,d(this.$root.$options.shadowRoot))}:function(e){t.call(this,s(e))}),l)if(u.functional){var f=u.render;u.render=function(e,t){return l.call(t),f(e,t)}}else{var h=u.beforeCreate;u.beforeCreate=h?[].concat(h,l):[l]}return n}({render:function(){var e=this.$createElement,t=this._self._c||e;return this.renderParams&&!this.logoutButton?t("div",{attrs:{id:this.id},on:{click:this.handleClick}}):t("button",{attrs:{id:this.id},on:{click:this.handleClick}},[this._t("default")],2)},staticRenderFns:[]},void 0,{name:"GoogleLogin",props:{params:{type:Object,required:!0},onCurrentUser:{type:Function,default:function(){}},onSuccess:{type:Function,default:function(){}},onFailure:{type:Function,default:function(){}},logoutButton:{type:Boolean,default:!1},renderParams:{type:Object,required:!1}},beforeCreate:function(){this.id="google-signin-btn-".concat(a++)},methods:{handleClick:function(){var e=this,t=this.logoutButton?"signOut":"signIn";i[t]().then((function(t){return e.onSuccess(t)})).catch((function(t){return e.onFailure(t)}))}},mounted:function(){var e=this;i.load(this.params).then((function(){e.renderParams&&!1===e.logoutButton&&window.gapi.signin2.render(e.id,e.renderParams),i.isSignedIn()&&e.onCurrentUser(i.currentUser())})).catch((function(e){console.log(e)}))}},void 0,!1,void 0,void 0,void 0),c={install:function(e,t){e.GoogleAuth=i.load(t)}};e.GoogleLogin=s,e.LoaderPlugin=c,e.default=s,Object.defineProperty(e,"__esModule",{value:!0})}))},f102:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("auth-template",{attrs:{title:"Faça o seu cadastro",alert:e.alertInfo,isBarber:e.isBarber}},[n("form",{on:{submit:function(t){return t.preventDefault(),e.cadastrar(t)}}},[n("v-text-field",{attrs:{id:"name",label:"Nome"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.focusToNext("email")}},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),n("v-text-field",{ref:"email",attrs:{label:"E-mail",disabled:e.emailDisabled,rules:e.emailRules},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.focusToNext("password")}},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),n("v-text-field",{ref:"password",attrs:{type:e.showPassword?"text":"password",rules:e.passwordRules,label:"Senha","append-icon":e.showPassword?"visibility_off":"remove_red_eye"},on:{"click:append":function(t){e.showPassword=!e.showPassword},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.focusToNext("confirmPassword")}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),n("v-text-field",{ref:"confirmPassword",attrs:{type:e.showConfirmPassword?"text":"password",rules:e.passwordRules,label:"Confirmar Senha","append-icon":e.showConfirmPassword?"visibility_off":"remove_red_eye"},on:{"click:append":function(t){e.showConfirmPassword=!e.showConfirmPassword},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.enterClick(t)}},model:{value:e.confirmPassword,callback:function(t){e.confirmPassword=t},expression:"confirmPassword"}}),n("div",{staticClass:"text-center mt-4"},[n("btn-confirm",{staticClass:"btn-cadastrar",attrs:{text:"Cadastrar",disabled:e.btnDisabled,loading:e.progressLoader},on:{clicked:e.cadastrar}})],1),n("gbutton",{staticClass:"mt-6 mx-auto",attrs:{params:e.params,renderParams:e.renderParams,onSuccess:e.registerWithGoogle}},[e._v(" Cadastrar-se com o Google ")]),n("div",{staticClass:"text-center mt-4"},[n("span",{staticClass:"d-block font-weight-light"},[e._v("ou")]),n("btn-text",{staticClass:"mt-2",attrs:{text:"Voltar",dark:""},on:{clicked:e.voltar}})],1)],1)])},r=[],i=(n("a15b"),n("d81d"),n("fb6a"),n("0d03"),n("b0c0"),n("d3b7"),n("ac1f"),n("25f0"),n("5319"),n("1276"),n("e571")),a=n.n(i),s=n("94bb"),c=n("96f9"),d=n("39db"),l=n("2c3c"),u=n("2ce5"),f=n("be1f"),h={name:"Register",components:{AuthTemplate:s["a"],BtnConfirm:c["a"],BtnText:d["a"],gbutton:a.a},mixins:[l["a"],u["a"],f["a"]],props:{alertInfo:{default:null},isBarber:{default:!1},progressLoader:{default:!1},token:{default:""}},data:function(){return{showPassword:!1,showConfirmPassword:!1,name:"",email:"",password:"",confirmPassword:"",params:{client_id:"69364991955-nfb8lar5v22bfikoba0imp8vjmscr23h.apps.googleusercontent.com"},renderParams:{height:45,width:250,theme:"dark"}}},watch:{token:function(e){if(e){var t=this.parseJwt(e);this.email=t.usuario.barber_mail}}},computed:{emailDisabled:function(){return!!this.token},btnDisabled:function(){return!this.isNameValid(this.name)||(!this.isEmailValid(this.email)||(!this.isPasswordValid(this.password)||(!this.isPasswordValid(this.confirmPassword)||this.confirmPassword!==this.password)))}},mounted:function(){var e=document.querySelector(".btn-cadastrar");this.renderParams.width=e.offsetWidth,document.querySelector("#name").focus()},methods:{enterClick:function(){this.btnDisabled?this.showSnackbarErro("Preencha todos os dados corretamente!"):this.cadastrar()},cadastrar:function(){var e={name:this.name,email:this.email,password:this.password};this.$emit("register",e)},registerWithGoogle:function(e){var t=e.getBasicProfile(),n={google_id:t.getId(),name:t.getName(),email:t.getEmail()};this.$emit("registerWithGoogle",n)},parseJwt:function(e){var t=e.split(".")[1],n=t.replace(/-/g,"+").replace(/_/g,"/"),o=decodeURIComponent(atob(n).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""));return JSON.parse(o)},voltar:function(){this.isBarber?this.goTo("login-barber"):this.goTo("login")}}},m=h,p=n("2877"),g=n("6544"),b=n.n(g),w=n("8654"),k=Object(p["a"])(m,o,r,!1,null,null,null);t["a"]=k.exports;b()(k,{VTextField:w["a"]})}}]);
//# sourceMappingURL=chunk-0f2b09be.ae0498e3.js.map