(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d021a"],{6758:function(o,e,r){"use strict";r.r(e);var a=function(){var o=this,e=o.$createElement,r=o._self._c||e;return r("div",[r("login-app",{attrs:{alertInfo:o.alertInfo,progressLoader:o.loading,userNotEnabled:o.userNotEnabled},on:{login:o.login,loginWithGoogle:o.loginWithGoogle,sendMail:o.sendMail}}),r("overlay",{ref:"overlay"})],1)},t=[],n=r("be3b"),i=r("6cd4"),s=r("83c9"),l=r("8c08"),c=r("5988"),d=r("2ce5"),h={name:"Login",components:{LoginApp:s["a"],Overlay:l["a"]},mixins:[i["a"],c["a"],d["a"]],data:function(){return{alertInfo:null,loading:!1,userNotEnabled:!1}},mounted:function(){this.userNotEnabled=!1},methods:{login:function(o){var e=this;this.loading=!0,n["a"].post("/auth/user/login",o).then((function(o){if(200===o.data.codigo){var r=o.data.corpo;e.setUser(r)}else e.setError(o.data.corpo)})).catch((function(o){window.console.log(o),e.setError("Não foi possível realizar login na aplicação!")}))},loginWithGoogle:function(o){var e=this;this.loading=!0,this.$refs.overlay.showOverlay("Carregando..."),n["a"].post("/auth/user/login-google",o).then((function(o){if(200===o.data.codigo){var r=o.data.corpo;e.setUser(r)}else e.setError(o.data.corpo)})).catch((function(){return e.setError("Não foi possível realizar login na aplicação!")}))},onSendMailError:function(o){this.$refs.overlay.hideOverlayError(o),this.showSnackbarErro(o)},sendMail:function(){var o=this,e="";this.$refs.overlay.showOverlay("Enviando e-mail..."),n["a"].post("/user/resend-register-mail",{email:this.user.email}).then((function(r){200===r.status?200===r.data.codigo?(o.userNotEnabled=!1,o.alertInfo=!1,o.$refs.overlay.hideOverlaySuccess(r.data.corpo)):o.onSendMailError(r.data.corpo):o.onSendMailError(e)})).catch((function(){return o.onSendMailError(e)}))},setError:function(o){this.$refs.overlay.hideOverlay(),this.alertInfo=null,this.loading=!1,this.showSnackbarErro(o)},setUser:function(o){var e=localStorage.routePathSite;this.storeUser(o);var r=this.getUser();r?(r.enabled&&(e&&e!==this.$route.path?(localStorage.removeItem("routePathSite"),this.goToPath(e)):this.goTo("barbershops")),this.loading=!1,this.userNotEnabled=!0,this.$refs.overlay.hideOverlay()):this.setError("Não foi possível recuperar o token de acesso à aplicação!")}}},u=h,g=r("2877"),f=Object(g["a"])(u,a,t,!1,null,null,null);e["default"]=f.exports}}]);
//# sourceMappingURL=chunk-2d0d021a.dc97c0e5.js.map