(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2fd05fa0"],{"09ba":function(t,e,r){"use strict";var a=r("be3b"),o=r("2ce5"),n={mixins:[o["a"]],computed:{barber:function(){return this.$store.getters["BarberStore/barber"]},barberState:function(){return this.$store.getters["BarberStore/barber"]}},methods:{getBarber:function(){return this.$store.getters["BarberStore/barber"]},getBarberByBarbershopIdOnService:function(t){var e=this;a["a"].get("/barbershop/".concat(t,"/barber?status=ativo")).then((function(t){200===t.data.codigo?e.onGetBarberByBarbershopIdOnServiceSuccess(t.data.corpo):e.onGetBarberByBarbershopIdOnServiceError(t.data.corpo)})).catch((function(t){e.onGetBarberByBarbershopIdOnServiceError("Não foi possível recuperar os dados da barbearia!"),window.console.log(t)}))},onGetBarberByBarbershopIdOnServiceError:function(t){window.console.log(t)},onGetBarberByBarbershopIdOnServiceSuccess:function(t){window.console.log(JSON.stringify(t))},getToken:function(){return this.$store.getters["BarberStore/payloadToken"]},isAutenticated:function(){return this.$store.getters["BarberStore/tokenValido"]},logout:function(){this.$store.dispatch("BarberStore/logout"),this.$store.dispatch("BarbershopStore/logout"),localStorage.routePathAdmin="",this.goTo("login-barber")},storeBarber:function(t){this.$store.dispatch("UserStore/logout"),this.$store.dispatch("BarberStore/autenticar",t)}}};e["a"]=n},"2adc":function(t,e,r){"use strict";var a=r("57f2"),o=r.n(a);o.a},"2ce5":function(t,e,r){"use strict";r("b0c0");var a={methods:{goTo:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=this.$route.name;t!=r&&(e?this.$router.push({name:t,params:e}):this.$router.push({name:t}))},goToPath:function(t){this.$router.push({path:t})},goToBack:function(){this.$router.go(-1)}}};e["a"]=a},"3c93":function(t,e,r){},"57f2":function(t,e,r){},"96f9":function(t,e,r){"use strict";var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-btn",{staticClass:"btn-confirm py-3 text-capitalize font-weight-bold",class:t.cssClass,attrs:{color:"secondary",height:"auto",block:t.block,disabled:t.disabled},on:{click:t.clicked}},[t.loading?[r("v-progress-circular",{attrs:{indeterminate:"",width:"2",color:"primaryDark",small:""}})]:[t.icon?r("v-icon",{staticClass:"mr-1"},[t._v(" "+t._s(t.icon)+" ")]):t._e(),t._v(" "+t._s(t.text)+" ")]],2)},o=[],n={name:"BtnConfirm",props:{block:{default:!0},disabled:{default:!1},text:{default:"Confirmar"},icon:{default:""},cssClass:{default:""},loading:{default:!1}},methods:{clicked:function(){this.$emit("clicked")}}},s=n,i=(r("2adc"),r("2877")),c=r("6544"),l=r.n(c),d=r("8336"),u=r("132d"),h=r("490a"),f=Object(i["a"])(s,a,o,!1,null,"9c7e9870",null);e["a"]=f.exports;l()(f,{VBtn:d["a"],VIcon:u["a"],VProgressCircular:h["a"]})},"99d9":function(t,e,r){"use strict";r.d(e,"a",(function(){return n})),r.d(e,"b",(function(){return i})),r.d(e,"c",(function(){return c}));var a=r("b0af"),o=r("80d2"),n=Object(o["i"])("v-card__actions"),s=Object(o["i"])("v-card__subtitle"),i=Object(o["i"])("v-card__text"),c=Object(o["i"])("v-card__title");a["a"]},a7b9:function(t,e,r){"use strict";var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-row",{attrs:{justify:"center"}},[r("v-dialog",{attrs:{persistent:"","max-width":"350"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[r("v-card",{staticClass:"confirm-dialog pa-4",attrs:{dark:""}},[r("v-card-title",{staticClass:"headline pa-0"},[t._v(" "+t._s(t.title)+" ")]),t.description?r("v-card-text",{staticClass:"mt-4 pa-0"},[t._v(" "+t._s(t.description)+" ")]):t._e(),r("v-card-actions",{staticClass:"mt-4"},[r("v-spacer"),r("v-btn",{staticClass:"text-none primary--text px-4",attrs:{color:"success",rounded:""},on:{click:function(e){return t.send("confirm")}}},[t._v(" Confirmar ")]),r("v-btn",{staticClass:"text-none",attrs:{color:"light",text:""},on:{click:function(e){return t.send("cancel")}}},[t._v(" Cancelar ")])],1)],1)],1)],1)},o=[],n=(r("da5b"),{name:"Confirm",props:{title:{required:!0},description:{required:!1},danger:{default:!1}},data:function(){return{dialog:!1}},methods:{send:function(t){this.dialog=!1,this.$emit(t)},showDialog:function(){this.dialog=!0},cardClass:function(){return this.danger?"muted":"primary"}}}),s=n,i=r("2877"),c=r("6544"),l=r.n(c),d=r("8336"),u=r("b0af"),h=r("99d9"),f=r("169a"),v=r("0fd9"),b=r("2fa4"),p=Object(i["a"])(s,a,o,!1,null,null,null);e["a"]=p.exports;l()(p,{VBtn:d["a"],VCard:u["a"],VCardActions:h["a"],VCardText:h["b"],VCardTitle:h["c"],VDialog:f["a"],VRow:v["a"],VSpacer:b["a"]})},adcb:function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t.barber?r("div",{staticClass:"plans"},[r("v-row",[r("v-col",{staticClass:"mt-0"},[r("h1",{staticClass:"text-center plans-title"},[t._v(" Escolha o plano ideal para a sua "),r("span",[t._v("Barbearia")]),t._v(". ")])])],1),r("v-row",{staticClass:"text-center"},[r("v-col",{attrs:{cols:"12"}},t._l(t.items,(function(e,a){return r("div",{key:a,staticClass:"plan-item"},[r("header",{staticClass:"text-center"},[r("h2",{staticClass:"font-weight-regular"},[t._v(" "+t._s(e.name)+" ")]),r("span",{staticClass:"plan-item-price font-weight-bold"},[t._v(" "+t._s(e.value)+" "),r("small",{staticClass:"font-weight-light"},[t._v("/mês")])]),r("span",{staticClass:"plan-description font-weight-light"},[t._v(" "+t._s(e.description)+" ")])]),r("content",[r("table",t._l(e.list,(function(e,a){return r("tr",{key:a,staticClass:"plan-list-item"},[r("td",{staticClass:"text-right"},[t.isBoolean(e.value)?r("v-icon",{staticClass:"plan-list-value font-weight-bold"},[t._v(" check ")]):r("span",{staticClass:"plan-list-value font-weight-bold"},[t._v(" "+t._s(e.value)+" ")])],1),r("td",{staticClass:"text-left pl-2"},[r("span",{staticClass:"plan-list-key"},[t._v(" "+t._s(e.key)+" ")])])])})),0),t.showBtn(e.id)?r("btn-confirm",{staticClass:"mt-8",attrs:{disabled:1!=e.id,text:"Escolher Plano"},on:{clicked:function(r){return t.choosed(e.id)}}}):r("btn-confirm",{staticClass:"mt-8 danger",attrs:{disabled:1!=e.id,text:"Cancelar Plano"},on:{clicked:function(e){return t.choosed(null)}}})],1)])})),0)],1)],1):t._e(),r("confirm-dialog",{ref:"dialog",attrs:{title:t.confirmDialogTitle,danger:t.danger},on:{confirm:t.confirm}}),r("overlay",{ref:"overlay"})],1)},o=[],n=r("be3b"),s=r("96f9"),i=r("a7b9"),c=r("8c08"),l=r("09ba"),d=r("5988"),u=r("d97b"),h={name:"Plans",components:{BtnConfirm:s["a"],ConfirmDialog:i["a"],Overlay:c["a"]},mixins:[l["a"],u["a"],d["a"]],data:function(){return{items:[{id:1,name:"Basic",value:"R$ 10,00",description:"Ideal para quem trabalha sozinho",list:[{key:"Usuários",value:1},{key:"Agendamentos",value:!0}]}],confirmDialogTitle:"",choosedPlanId:null,barber:null,danger:!1}},mounted:function(){this.setBarber()},methods:{cancelPlan:function(){var t=this;this.showOverlay("Processando..."),n["a"].delete("/barber/plan/".concat(this.barber.id)).then((function(e){if(200===e.data.codigo){var r=e.data.corpo.token;t.storeBarber(r),t.setBarber();var a="Seu plano foi cancelado com sucesso!";t.hideOverlaySuccess(a),t.showSnackbar(a)}else t.setError(e.data.corpo)})).catch((function(){return t.setError("Não foi possível cancelar o seu plano!")}))},choosed:function(t){this.choosedPlanId=t,this.choosedPlanId?(this.confirmDialogTitle="Confirma a adesão deste plano?",this.danger=!1):(this.confirmDialogTitle="Confirma o cancelamento deste plano?",this.danger=!0),this.$refs.dialog.showDialog()},confirm:function(){this.choosedPlanId?this.setPlan(this.choosedPlanId):this.cancelPlan()},isBoolean:function(t){return"boolean"===typeof t},setBarber:function(){this.barber=this.getBarber()},setError:function(t){this.showSnackbarErro(t),this.hideOverlayError(t)},setPlan:function(t){var e=this;this.showOverlay("Processando..."),n["a"].put("/barber/plan/".concat(this.barber.id),{plan_id:t}).then((function(t){if(200===t.data.codigo){var r=t.data.corpo.token;e.storeBarber(r),e.setBarber();var a="Seu plano foi alterado com sucesso!";e.hideOverlaySuccess(a),e.showSnackbar(a)}else e.setError(t.data.corpo)})).catch((function(){return e.setError("Não foi possível alterar o seu plano!")}))},showBtn:function(t){return!this.barber.plan_id||this.barber.plan_id!=t}}},f=h,v=(r("cc81"),r("2877")),b=r("6544"),p=r.n(b),m=r("62ad"),y=r("132d"),g=r("0fd9"),w=Object(v["a"])(f,a,o,!1,null,"0b699b52",null);e["default"]=w.exports;p()(w,{VCol:m["a"],VIcon:y["a"],VRow:g["a"]})},cc81:function(t,e,r){"use strict";var a=r("da1e"),o=r.n(a);o.a},da1e:function(t,e,r){},da5b:function(t,e,r){},e707:function(t,e,r){"use strict";r("caad"),r("a9e3"),r("2532"),r("a4d3"),r("4de4"),r("4160"),r("e439"),r("dbb4"),r("b64b"),r("159b");var a=r("2fa7"),o=(r("3c93"),r("a9ad")),n=r("7560"),s=r("f2e7"),i=r("58df");function c(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function l(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?c(r,!0).forEach((function(e){Object(a["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var d=Object(i["a"])(o["a"],n["a"],s["a"]).extend({name:"v-overlay",props:{absolute:Boolean,color:{type:String,default:"#212121"},dark:{type:Boolean,default:!0},opacity:{type:[Number,String],default:.46},value:{default:!0},zIndex:{type:[Number,String],default:5}},computed:{__scrim:function(){var t=this.setBackgroundColor(this.color,{staticClass:"v-overlay__scrim",style:{opacity:this.computedOpacity}});return this.$createElement("div",t)},classes:function(){return l({"v-overlay--absolute":this.absolute,"v-overlay--active":this.isActive},this.themeClasses)},computedOpacity:function(){return Number(this.isActive?this.opacity:0)},styles:function(){return{zIndex:this.zIndex}}},methods:{genContent:function(){return this.$createElement("div",{staticClass:"v-overlay__content"},this.$slots.default)}},render:function(t){var e=[this.__scrim];return this.isActive&&e.push(this.genContent()),t("div",{staticClass:"v-overlay",class:this.classes,style:this.styles},e)}}),u=d,h=r("80d2"),f=r("2b0e");e["a"]=f["a"].extend().extend({name:"overlayable",props:{hideOverlay:Boolean,overlayColor:String,overlayOpacity:[Number,String]},data:function(){return{overlay:null}},watch:{hideOverlay:function(t){this.isActive&&(t?this.removeOverlay():this.genOverlay())}},beforeDestroy:function(){this.removeOverlay()},methods:{createOverlay:function(){var t=new u({propsData:{absolute:this.absolute,value:!1,color:this.overlayColor,opacity:this.overlayOpacity}});t.$mount();var e=this.absolute?this.$el.parentNode:document.querySelector("[data-app]");e&&e.insertBefore(t.$el,e.firstChild),this.overlay=t},genOverlay:function(){var t=this;if(this.hideScroll(),!this.hideOverlay)return this.overlay||this.createOverlay(),requestAnimationFrame((function(){t.overlay&&(void 0!==t.activeZIndex?t.overlay.zIndex=String(t.activeZIndex-1):t.$el&&(t.overlay.zIndex=Object(h["s"])(t.$el)),t.overlay.value=!0)})),!0},removeOverlay:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.overlay&&(Object(h["a"])(this.overlay.$el,"transitionend",(function(){t.overlay&&t.overlay.$el&&t.overlay.$el.parentNode&&!t.overlay.value&&(t.overlay.$el.parentNode.removeChild(t.overlay.$el),t.overlay.$destroy(),t.overlay=null)})),this.overlay.value=!1),e&&this.showScroll()},scrollListener:function(t){if("keydown"===t.type){if(["INPUT","TEXTAREA","SELECT"].includes(t.target.tagName)||t.target.isContentEditable)return;var e=[h["v"].up,h["v"].pageup],r=[h["v"].down,h["v"].pagedown];if(e.includes(t.keyCode))t.deltaY=-1;else{if(!r.includes(t.keyCode))return;t.deltaY=1}}(t.target===this.overlay||"keydown"!==t.type&&t.target===document.body||this.checkPath(t))&&t.preventDefault()},hasScrollbar:function(t){if(!t||t.nodeType!==Node.ELEMENT_NODE)return!1;var e=window.getComputedStyle(t);return["auto","scroll"].includes(e.overflowY)&&t.scrollHeight>t.clientHeight},shouldScroll:function(t,e){return 0===t.scrollTop&&e<0||t.scrollTop+t.clientHeight===t.scrollHeight&&e>0},isInside:function(t,e){return t===e||null!==t&&t!==document.body&&this.isInside(t.parentNode,e)},checkPath:function(t){var e=t.path||this.composedPath(t),r=t.deltaY;if("keydown"===t.type&&e[0]===document.body){var a=this.$refs.dialog,o=window.getSelection().anchorNode;return!(a&&this.hasScrollbar(a)&&this.isInside(o,a))||this.shouldScroll(a,r)}for(var n=0;n<e.length;n++){var s=e[n];if(s===document)return!0;if(s===document.documentElement)return!0;if(s===this.$refs.content)return!0;if(this.hasScrollbar(s))return this.shouldScroll(s,r)}return!0},composedPath:function(t){if(t.composedPath)return t.composedPath();var e=[],r=t.target;while(r){if(e.push(r),"HTML"===r.tagName)return e.push(document),e.push(window),e;r=r.parentElement}return e},hideScroll:function(){this.$vuetify.breakpoint.smAndDown?document.documentElement.classList.add("overflow-y-hidden"):(Object(h["b"])(window,"wheel",this.scrollListener,{passive:!1}),window.addEventListener("keydown",this.scrollListener))},showScroll:function(){document.documentElement.classList.remove("overflow-y-hidden"),window.removeEventListener("wheel",this.scrollListener),window.removeEventListener("keydown",this.scrollListener)}}})}}]);
//# sourceMappingURL=chunk-2fd05fa0.cddf2ff2.js.map