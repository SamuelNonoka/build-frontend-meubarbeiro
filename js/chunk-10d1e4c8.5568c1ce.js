(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-10d1e4c8"],{1221:function(t,e,i){},"64e5":function(t,e,i){"use strict";var n=i("d039"),s=i("0ccb").start,o=Math.abs,r=Date.prototype,a=r.getTime,c=r.toISOString;t.exports=n((function(){return"0385-07-25T07:06:39.999Z"!=c.call(new Date(-5e13-1))}))||!n((function(){c.call(new Date(NaN))}))?function(){if(!isFinite(a.call(this)))throw RangeError("Invalid time value");var t=this,e=t.getUTCFullYear(),i=t.getUTCMilliseconds(),n=e<0?"-":e>9999?"+":"";return n+s(o(e),n?6:4,0)+"-"+s(t.getUTCMonth()+1,2,0)+"-"+s(t.getUTCDate(),2,0)+"T"+s(t.getUTCHours(),2,0)+":"+s(t.getUTCMinutes(),2,0)+":"+s(t.getUTCSeconds(),2,0)+"."+s(i,3,0)+"Z"}:c},8936:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"step-time"},[i("v-row",[i("v-col",{staticClass:"py-0",attrs:{cols:"auto"}},[i("date-picker",{attrs:{label:"Data do agendamento",max:t.maxDate,min:t.minDate},on:{change:t.dateChanged}})],1)],1),t._l(t.barbers,(function(e){return i("v-row",{key:e.id},[i("v-col",{staticClass:"barber-info py-0",attrs:{cols:"12"}},[i("div",{staticClass:"imagem"},[e.image_url?i("img",{staticClass:"grey lighten-2",attrs:{src:""+t.$url_backend+e.image_url,"lazy-src":""+t.$url_backend+e.image_url,"aspect-ratio":"1"}}):t._e()]),i("h1",{staticClass:"nome"},[t._v(" "+t._s(e.name)+" ")])]),i("v-col",{staticClass:"py-0",attrs:{cols:"12"}},[e.times.length>0?i("v-row",[i("v-col",{staticClass:"py-0",attrs:{cols:"12"}},[i("p",{staticClass:"ma-0 mt-3"},[i("strong",[t._v("Horários disponíveis:")])])]),t._l(e.times,(function(n,s){return i("v-col",{key:s,attrs:{cols:"auto"},on:{click:function(i){return t.chooseTime(n.time,e.id)}}},[i("div",{staticClass:"grey lighten-1 pa-2 text-center app-border-radius-small step-time-item",class:{active:n.time===t.time}},[t._v(" "+t._s(t.formatResponseToTime(n.time))+" ")])])}))],2):i("p",{staticClass:"text-center ma-0"},[t._v(" Nenhum horário disponível ")])],1),i("v-col",{staticClass:"px-4",attrs:{cols:"12"}},[i("v-divider",{staticClass:"mb-0"})],1)],1)}))],2)},s=[],o=(i("99af"),i("d81d"),i("accc"),i("0d03"),i("ac1f"),i("1276"),i("e587")),r=i("be3b"),a=i("b7c5"),c=i("5f08"),l=i("974c"),h=i("ef49"),u={name:"RegisterScheduleStepTime",mixins:[h["a"],c["a"],l["a"]],components:{DatePicker:a["a"]},props:{barbershop_id:{required:!0},choosedBarbers:{default:Array},duration:{default:"0:00"}},data:function(){return{barbershopObj:null,time:null,barbers:[],loading:!0,date:null}},computed:{maxDate:function(){var t=new Date;return t.setDate(t.getDate()+6),t.toISOString().substr(0,10)},minDate:function(){var t=new Date;return t.setDate(t.getDate()-1),t.toISOString().substr(0,10)}},methods:{chooseTime:function(t,e){this.time=t;var i=this.time.split(":"),n=Object(o["a"])(i,2),s=n[0],r=n[1];this.date.setHours(s,r,0),this.$emit("choosed",this.date,e)},dateChanged:function(t){var e=this.date,i=new Date(t);i.setDate(i.getDate()+1),this.date=i,e&&this.getTimesOnService(this.date)},getTimes:function(){this.date=new Date,this.getTimesOnService(this.date)},getTimesOnService:function(t){var e=this;t=this.formatDateToDateEn(t),this.barbers=[];var i="/barbershop/".concat(this.barbershop_id,"/time/available/").concat(t);if(window.console.log("choosedBarbers",this.choosedBarbers,this.choosedBarbers.length),this.choosedBarbers.length>0){window.console.log("entrou");var n=this.choosedBarbers.map((function(t){return t.id}));i+="?barbers=".concat(n)}r["a"].get(i).then((function(t){200===t.data.codigo?e.barbers=t.data.corpo:e.barbers=[]})).catch((function(t){e.barbers=[],window.console.log(t)}))}}},d=u,f=(i("976d"),i("2877")),v=i("6544"),p=i.n(v),b=i("62ad"),m=i("ce7e"),g=i("0fd9"),O=Object(f["a"])(d,n,s,!1,null,"f6607c9a",null);e["default"]=O.exports;p()(O,{VCol:b["a"],VDivider:m["a"],VRow:g["a"]})},"90a2":function(t,e,i){"use strict";i("7db0");var n=i("bf2d");function s(t,e){var i=e.modifiers||{},s=e.value,r="object"===Object(n["a"])(s),a=r?s.handler:s,c=new IntersectionObserver((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;if(t._observe){if(a&&(!i.quiet||t._observe.init)){var s=Boolean(e.find((function(t){return t.isIntersecting})));a(e,n,s)}t._observe.init&&i.once?o(t):t._observe.init=!0}}),s.options||{});t._observe={init:!1,observer:c},c.observe(t)}function o(t){t._observe&&(t._observe.observer.unobserve(t),delete t._observe)}var r={inserted:s,unbind:o};e["a"]=r},"976d":function(t,e,i){"use strict";var n=i("1221"),s=i.n(n);s.a},accc:function(t,e,i){var n=i("23e7"),s=i("64e5");n({target:"Date",proto:!0,forced:Date.prototype.toISOString!==s},{toISOString:s})},dc22:function(t,e,i){"use strict";function n(t,e){var i=e.value,n=e.options||{passive:!0};window.addEventListener("resize",i,n),t._onResize={callback:i,options:n},e.modifiers&&e.modifiers.quiet||i()}function s(t){if(t._onResize){var e=t._onResize,i=e.callback,n=e.options;window.removeEventListener("resize",i,n),delete t._onResize}}var o={inserted:n,unbind:s};e["a"]=o},e449:function(t,e,i){"use strict";i("a4d3"),i("99af"),i("4de4"),i("7db0"),i("4160"),i("a630"),i("caad"),i("c975"),i("a9e3"),i("e439"),i("dbb4"),i("b64b"),i("acd8"),i("e25e"),i("2532"),i("3ca3"),i("498a"),i("159b");var n=i("284c"),s=i("2fa7"),o=(i("ee6f"),i("480e")),r=i("4ad4"),a=i("16b7"),c=i("b848"),l=i("75eb"),h=i("f573"),u=i("e4d3"),d=i("f2e7"),f=i("7560"),v=i("a293"),p=i("dc22"),b=i("58df"),m=i("d9bd"),g=i("80d2");function O(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function w(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?O(i,!0).forEach((function(e){Object(s["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):O(i).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var S=Object(b["a"])(c["a"],a["a"],l["a"],h["a"],u["a"],d["a"],f["a"]);e["a"]=S.extend({name:"v-menu",provide:function(){return{isInMenu:!0,theme:this.theme}},directives:{ClickOutside:v["a"],Resize:p["a"]},props:{auto:Boolean,closeOnClick:{type:Boolean,default:!0},closeOnContentClick:{type:Boolean,default:!0},disabled:Boolean,disableKeys:Boolean,maxHeight:{type:[Number,String],default:"auto"},offsetX:Boolean,offsetY:Boolean,openOnClick:{type:Boolean,default:!0},openOnHover:Boolean,origin:{type:String,default:"top left"},transition:{type:[Boolean,String],default:"v-menu-transition"}},data:function(){return{calculatedTopAuto:0,defaultOffset:8,hasJustFocused:!1,listIndex:-1,resizeTimeout:0,selectedIndex:null,tiles:[]}},computed:{activeTile:function(){return this.tiles[this.listIndex]},calculatedLeft:function(){var t=Math.max(this.dimensions.content.width,parseFloat(this.calculatedMinWidth));return this.auto?Object(g["g"])(this.calcXOverflow(this.calcLeftAuto(),t))||"0":this.calcLeft(t)||"0"},calculatedMaxHeight:function(){var t=this.auto?"200px":Object(g["g"])(this.maxHeight);return t||"0"},calculatedMaxWidth:function(){return Object(g["g"])(this.maxWidth)||"0"},calculatedMinWidth:function(){if(this.minWidth)return Object(g["g"])(this.minWidth)||"0";var t=Math.min(this.dimensions.activator.width+Number(this.nudgeWidth)+(this.auto?16:0),Math.max(this.pageWidth-24,0)),e=isNaN(parseInt(this.calculatedMaxWidth))?t:parseInt(this.calculatedMaxWidth);return Object(g["g"])(Math.min(e,t))||"0"},calculatedTop:function(){var t=this.auto?Object(g["g"])(this.calcYOverflow(this.calculatedTopAuto)):this.calcTop();return t||"0"},hasClickableTiles:function(){return Boolean(this.tiles.find((function(t){return t.tabIndex>-1})))},styles:function(){return{maxHeight:this.calculatedMaxHeight,minWidth:this.calculatedMinWidth,maxWidth:this.calculatedMaxWidth,top:this.calculatedTop,left:this.calculatedLeft,transformOrigin:this.origin,zIndex:this.zIndex||this.activeZIndex}}},watch:{isActive:function(t){t||(this.listIndex=-1)},isContentActive:function(t){this.hasJustFocused=t},listIndex:function(t,e){if(t in this.tiles){var i=this.tiles[t];i.classList.add("v-list-item--highlighted"),this.$refs.content.scrollTop=i.offsetTop-i.clientHeight}e in this.tiles&&this.tiles[e].classList.remove("v-list-item--highlighted")}},created:function(){this.$attrs.hasOwnProperty("full-width")&&Object(m["d"])("full-width",this)},mounted:function(){this.isActive&&this.callActivate()},methods:{activate:function(){var t=this;this.updateDimensions(),requestAnimationFrame((function(){t.startTransition().then((function(){t.$refs.content&&(t.calculatedTopAuto=t.calcTopAuto(),t.auto&&(t.$refs.content.scrollTop=t.calcScrollPosition()))}))}))},calcScrollPosition:function(){var t=this.$refs.content,e=t.querySelector(".v-list-item--active"),i=t.scrollHeight-t.offsetHeight;return e?Math.min(i,Math.max(0,e.offsetTop-t.offsetHeight/2+e.offsetHeight/2)):t.scrollTop},calcLeftAuto:function(){return parseInt(this.dimensions.activator.left-2*this.defaultOffset)},calcTopAuto:function(){var t=this.$refs.content,e=t.querySelector(".v-list-item--active");if(e||(this.selectedIndex=null),this.offsetY||!e)return this.computedTop;this.selectedIndex=Array.from(this.tiles).indexOf(e);var i=e.offsetTop-this.calcScrollPosition(),n=t.querySelector(".v-list-item").offsetTop;return this.computedTop-i-n-1},changeListIndex:function(t){if(this.getTiles(),this.isActive&&this.hasClickableTiles)if(t.keyCode!==g["v"].tab){if(t.keyCode===g["v"].down)this.nextTile();else if(t.keyCode===g["v"].up)this.prevTile();else{if(t.keyCode!==g["v"].enter||-1===this.listIndex)return;this.tiles[this.listIndex].click()}t.preventDefault()}else this.isActive=!1},closeConditional:function(t){var e=t.target;return this.isActive&&!this._isDestroyed&&this.closeOnClick&&!this.$refs.content.contains(e)},genActivatorAttributes:function(){var t=r["a"].options.methods.genActivatorAttributes.call(this);return this.activeTile&&this.activeTile.id?w({},t,{"aria-activedescendant":this.activeTile.id}):t},genActivatorListeners:function(){var t=h["a"].options.methods.genActivatorListeners.call(this);return this.disableKeys||(t.keydown=this.onKeyDown),t},genTransition:function(){var t=this.genContent();return this.transition?this.$createElement("transition",{props:{name:this.transition}},this.showLazyContent((function(){return[t]}))):t},genDirectives:function(){var t=this,e=[{name:"show",value:this.isContentActive}];return!this.openOnHover&&this.closeOnClick&&e.push({name:"click-outside",value:function(){t.isActive=!1},args:{closeConditional:this.closeConditional,include:function(){return[t.$el].concat(Object(n["a"])(t.getOpenDependentElements()))}}}),e},genContent:function(){var t=this,e={attrs:w({},this.getScopeIdAttrs(),{role:"role"in this.$attrs?this.$attrs.role:"menu"}),staticClass:"v-menu__content",class:w({},this.rootThemeClasses,Object(s["a"])({"v-menu__content--auto":this.auto,"v-menu__content--fixed":this.activatorFixed,menuable__content__active:this.isActive},this.contentClass.trim(),!0)),style:this.styles,directives:this.genDirectives(),ref:"content",on:{click:function(e){var i=e.target;i.getAttribute("disabled")||t.closeOnContentClick&&(t.isActive=!1)},keydown:this.onKeyDown}};return!this.disabled&&this.openOnHover&&(e.on=e.on||{},e.on.mouseenter=this.mouseEnterHandler),this.openOnHover&&(e.on=e.on||{},e.on.mouseleave=this.mouseLeaveHandler),this.$createElement("div",e,[this.$createElement(o["a"],{props:{root:!0,light:this.light,dark:this.dark}},this.getContentSlot())])},getTiles:function(){this.$refs.content&&(this.tiles=Array.from(this.$refs.content.querySelectorAll(".v-list-item")))},mouseEnterHandler:function(){var t=this;this.runDelay("open",(function(){t.hasJustFocused||(t.hasJustFocused=!0,t.isActive=!0)}))},mouseLeaveHandler:function(t){var e=this;this.runDelay("close",(function(){e.$refs.content.contains(t.relatedTarget)||requestAnimationFrame((function(){e.isActive=!1,e.callDeactivate()}))}))},nextTile:function(){var t=this.tiles[this.listIndex+1];if(!t){if(!this.tiles.length)return;return this.listIndex=-1,void this.nextTile()}this.listIndex++,-1===t.tabIndex&&this.nextTile()},prevTile:function(){var t=this.tiles[this.listIndex-1];if(!t){if(!this.tiles.length)return;return this.listIndex=this.tiles.length,void this.prevTile()}this.listIndex--,-1===t.tabIndex&&this.prevTile()},onKeyDown:function(t){var e=this;if(t.keyCode===g["v"].esc){setTimeout((function(){e.isActive=!1}));var i=this.getActivator();this.$nextTick((function(){return i&&i.focus()}))}else!this.isActive&&[g["v"].up,g["v"].down].includes(t.keyCode)&&(this.isActive=!0);this.$nextTick((function(){return e.changeListIndex(t)}))},onResize:function(){this.isActive&&(this.$refs.content.offsetWidth,this.updateDimensions(),clearTimeout(this.resizeTimeout),this.resizeTimeout=window.setTimeout(this.updateDimensions,100))}},render:function(t){var e={staticClass:"v-menu",class:{"v-menu--attached":""===this.attach||!0===this.attach||"attach"===this.attach},directives:[{arg:"500",name:"resize",value:this.onResize}]};return t("div",e,[!this.activator&&this.genActivator(),this.genTransition()])}})},ee6f:function(t,e,i){},ef49:function(t,e,i){"use strict";var n=i("be3b"),s={computed:{barbershop:{set:function(){},get:function(){return this.$store.getters["BarbershopStore/barbershop"]}},barbershopState:function(){return this.$store.getters["BarbershopStore/barbershop"]}},methods:{storeBarbershop:function(t){this.$store.dispatch("BarbershopStore/store",t)},getBarbershop:function(){return this.$store.getters["BarbershopStore/barbershop"]},getBarbershopByIdOnService:function(t){var e=this;n["a"].get("/barbershop/".concat(t)).then((function(t){200===t.data.codigo?e.onGetBarbershopByIdOnServiceSuccess(t.data.corpo):e.onGetBarbershopByIdOnServiceError(t.data.corpo)})).catch((function(t){e.onGetBarbershopByIdOnServiceError("Não foi possível recuperar os dados da barbearia!"),window.console.log(t)}))},onGetBarbershopByIdOnServiceSuccess:function(t){window.console.log("onGetBarbershopByIdOnServiceSuccess: "+t)},onGetBarbershopByIdOnServiceError:function(t){window.console.log("onGetBarbershopByIdOnServiceError: "+t)},getBarbershopAllOnService:function(){var t=this;n["a"].get("/barbershop").then((function(e){200===e.data.codigo?t.onGetBarbershopAllOnServiceSuccess(e.data.corpo):t.onGetBarbershopAllOnServiceError(e.data.corpo)})).catch((function(e){t.onGetBarbershopAllOnServiceError("Não foi possível recuperar os dados da barbearia!"),window.console.log(e)}))},onGetBarbershopAllOnServiceSuccess:function(t){window.console.log("onGetBarbershopAllOnServiceSuccess: "+t)},onGetBarbershopAllOnServiceError:function(t){window.console.log("onGetBarbershopAllOnServiceError: "+t)},syncBarbershop:function(){var t=this;n["a"].get("/barbershop/".concat(this.barbershop.id)).then((function(e){200===e.data.codigo&&t.storeBarbershop(e.data.corpo)}))},updateBarbershopOnService:function(t,e){var i=this,s="barbershop/".concat(e);n["a"].put(s,t).then((function(t){200===t.data.codigo?i.onUpdateBarbershopOnServiceSuccess(t.data.corpo):i.onUpdateBarbershopOnServiceError(t.data.corpo)})).catch((function(t){window.console.log(t),i.onUpdateBarbershopOnServiceError("Não foi possível atualizar os dados da barbearia!")}))},onUpdateBarbershopOnServiceSuccess:function(t){window.console.log("onUpdateBarbershopOnServiceSuccess: "+t)},onUpdateBarbershopOnServiceError:function(t){window.console.log("onUpdateBarbershopOnServiceError: "+t)}}};e["a"]=s}}]);
//# sourceMappingURL=chunk-10d1e4c8.5568c1ce.js.map